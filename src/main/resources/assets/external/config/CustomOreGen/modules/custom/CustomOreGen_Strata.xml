<?xml version="1.0" encoding="UTF-8"?>

<!--
************************** CustomOreGen Strata Config **************************

    This file contains options, presets, and distributions for
    rocks and minerals as defined by Strata.

    We simply replace vanilla stone with our rock, then our rock with our
    minerals. Since we generate many common ores, the user should probably
    override vanilla and other mod ore generation.

********************************************************************************
-->

<IfModInstalled name="strata">

  <!-- TODO / WIP Notes

  Brine and petroleum options are hidden and disabled.
  Strata does not generate these resources.

  Ore distribution needs serious balancing.

  // Strata
  [13:12:35] [main/INFO]: [CHAT] §c !§r Warning: §cCoal§r has multiple variants generated:
  [13:12:35] [main/INFO]: [CHAT] §c - §rstrata:anthracite@0
  [13:12:35] [main/INFO]: [CHAT] §c - §rstrata:bituminous_coal@0
  [13:12:35] [main/INFO]: [CHAT] §c - §rstrata:lignite@0
  [13:12:35] [main/INFO]: [CHAT] §c !§r Warning: §cIron§r has multiple variants generated:
  [13:12:35] [main/INFO]: [CHAT] §c - §rstrata:banded_iron@0
  [13:12:35] [main/INFO]: [CHAT] §c - §rstrata:magnetite@0
  [13:12:35] [main/INFO]: [CHAT] §c !§r Warning: §cLithium§r has multiple variants generated:
  [13:12:35] [main/INFO]: [CHAT] §c - §rstrata:spodumene@0
  [13:12:35] [main/INFO]: [CHAT] §c - §rstrata:lepidolite@0
  [13:12:35] [main/INFO]: [CHAT] §c !§r Warning: §cMagnesium§r has multiple variants generated:
  [13:12:35] [main/INFO]: [CHAT] §c - §rstrata:dolomite@0
  [13:12:35] [main/INFO]: [CHAT] §c - §rstrata:magnesite@0
  [13:12:35] [main/INFO]: [CHAT] §c !§r Warning: §cTungsten§r has multiple variants generated:
  [13:12:35] [main/INFO]: [CHAT] §c - §rstrata:scheelite@0
  [13:12:35] [main/INFO]: [CHAT] §c - §rstrata:wolframite@0
  [13:12:35] [main/INFO]: [CHAT]  * §eCopper§r - 11,416 (20%)
  [13:12:35] [main/INFO]: [CHAT]  * §eMagnesium§r - 10,118 (17%)
  [13:12:35] [main/INFO]: [CHAT]  * §eCoal§r - 9,077 (16%)
  [13:12:35] [main/INFO]: [CHAT]  * §eIron§r - 5,800 (9.9%)
  [13:12:35] [main/INFO]: [CHAT]  * §eZinc§r - 5,793 (9.9%)
  [13:12:35] [main/INFO]: [CHAT]  * §eMolybdenum§r - 3,557 (6.1%)
  [13:12:35] [main/INFO]: [CHAT]  * §eLead§r - 3,100 (5.3%)
  [13:12:35] [main/INFO]: [CHAT]  * §eLithium§r - 2,936 (5.0%)
  [13:12:35] [main/INFO]: [CHAT]  * §eTungsten§r - 1,731 (3.0%)
  [13:12:35] [main/INFO]: [CHAT]  * §eBarium§r - 1,397 (2.4%)
  [13:12:35] [main/INFO]: [CHAT]  * §eTin§r - 987 (1.7%)
  [13:12:35] [main/INFO]: [CHAT]  * §eTantalum§r - 656 (1.1%)
  [13:12:35] [main/INFO]: [CHAT]  * §eApatite§r - 645 (1.1%)
  [13:12:35] [main/INFO]: [CHAT]  * §eEmerald§r - 313 (0.54%)
  [13:12:35] [main/INFO]: [CHAT]  * §eArsenic§r - 268 (0.46%)
  [13:12:35] [main/INFO]: [CHAT]  * §eTitanium§r - 214 (0.37%)
  [13:12:35] [main/INFO]: [CHAT]  * §eChromium§r - 196 (0.34%)
  [13:12:35] [main/INFO]: [CHAT]  * §eGold§r - 49 (0.08%)
  [13:12:35] [main/INFO]: [CHAT]  * §eCaesium§r - 29 (0.05%)
  [13:12:35] [main/INFO]: [CHAT]  * §eLapis§r - 11 (0.02%)
  [13:12:35] [main/INFO]: [CHAT]  * §eUranium§r - 3 (0.01%)

  // Vanilla
  [13:16:41] [main/INFO]: [CHAT]  * §eCoal§r - 53,691 (56%)
  [13:16:41] [main/INFO]: [CHAT]  * §eIron§r - 29,002 (30%)
  [13:16:41] [main/INFO]: [CHAT]  * §eRedstone§r - 7,856 (8.2%)
  [13:16:41] [main/INFO]: [CHAT]  * §eGold§r - 2,700 (2.8%)
  [13:16:41] [main/INFO]: [CHAT]  * §eLapis§r - 1,115 (1.2%)
  [13:16:41] [main/INFO]: [CHAT]  * §eDiamond§r - 873 (0.91%)
  [13:16:41] [main/INFO]: [CHAT]  * §eEmerald§r - 280 (0.29%)

  -->

  <!-- COG world-gen configuration settings -->
  <ConfigSection>

    <!-- TODO: Add/restore other dimension generators -->
    <OptionChoice name="StrataActive" default=":= dimension=&quot;overworld&quot;" displayGroup="groupInternal">
      <Choice value="true" displayValue="On" />
      <Choice value="false" displayValue="Off" />
      <Comment>Controls whether Strata is active in the current dimension. By default, it is only active in the overworld. To disable for a specific dimension, set this to false in the CustomOreGen_Options.txt found in the dimension directory (preferably before visiting it).</Comment>
    </OptionChoice>

    <OptionDisplayGroup name="groupStrata" displayName="Strata" displayState="shown">
      <Description>Enable/disable Strata rock formations, ore deposits, and other substances.</Description>
    </OptionDisplayGroup>

    <OptionChoice name="StrataGenRocks" default="false" displayState="shown_dynamic" displayGroup="groupStrata">
      <Description>Generate Strata rock distributions in the default pattern.</Description>
      <DisplayName>§lStrata§r (+)</DisplayName>
      <Choice value="true" displayValue="Enabled" />
      <Choice value="false" displayValue="Disabled" />
    </OptionChoice>

    <!-- Formation options -->
    <ConfigSection>

      <OptionChoice name="StrataGenSandOres" default=":=?StrataGenRocks" displayState=":=if(?StrataGenRocks, &quot;shown&quot;, &quot;hidden&quot;)" displayGroup="groupStrata">
        <Description>Generate placer deposits (iron, tin, garnet). This is recommended if you disable vanilla iron.</Description>
        <DisplayName>Placer deposits ┤</DisplayName>
        <Choice value="true" displayValue="On" />
        <Choice value="false" displayValue="Off" />
      </OptionChoice>

      <!-- Strata renamed PFAA's gypsum to alabaster. If calcite is added, this will still be accurate. -->
      <OptionChoice name="StrataGenVolcanic" default=":=?StrataGenRocks" displayState=":=if(?StrataGenRocks, &quot;shown&quot;, &quot;hidden&quot;)" displayGroup="groupStrata">
        <Description>Generate volcanic ore deposits including alunite, ash, perlite, pumice, and zeolite, as well as fumaroles (volcanic pipes) with gypsum, halite, and realgar.</Description>
        <DisplayName>Volcanic deposits ┤</DisplayName>
        <Choice value="true" displayValue="On" />
        <Choice value="false" displayValue="Off" />
      </OptionChoice>

      <OptionChoice name="StrataGenBIF" default=":=?StrataGenRocks" displayState=":=if(?StrataGenRocks, &quot;shown&quot;, &quot;hidden&quot;)" displayGroup="groupStrata">
        <Description>Generate sedimentary banded iron formations, primarily of hematite, with some recoverable magnetite.</Description>
        <DisplayName>Banded Iron Formations ┤</DisplayName>
        <Choice value="true" displayValue="On" />
        <Choice value="false" displayValue="Off" />
      </OptionChoice>

      <OptionChoice name="StrataGenSerpVeins" default=":=?StrataGenRocks" displayState=":=if(?StrataGenRocks, &quot;shown&quot;, &quot;hidden&quot;)" displayGroup="groupStrata">
        <Description>Generate serpentinite veins that are rich in soapstone, magnesite, chromite, and chrysotile.</Description>
        <DisplayName>Serpentinite veins ┤</DisplayName>
        <Choice value="true" displayValue="On" />
        <Choice value="false" displayValue="Off" />
      </OptionChoice>

      <OptionChoice name="StrataGenLaterites" default=":=?StrataGenRocks" displayState=":=if(?StrataGenRocks, &quot;shown&quot;, &quot;hidden&quot;)" displayGroup="groupStrata">
        <Description>Generate ore deposits in bogs and tropical lateritic soils (bauxite, limonite, garnierite).</Description>
        <DisplayName>Bog/lateritic ores ┤</DisplayName>
        <Choice value="true" displayValue="On" />
        <Choice value="false" displayValue="Off" />
      </OptionChoice>

      <OptionChoice name="StrataGenIgVeins" default=":=?StrataGenRocks" displayState=":=if(?StrataGenRocks, &quot;shown&quot;, &quot;hidden&quot;)" displayGroup="groupStrata">
        <Description>Generate ore veins in igneous rock (ilmenite, chromite, vermiculite, magnetite, chalcopyrite, etc.).</Description>
        <DisplayName>Ore veins in igneous rock ┤</DisplayName>
        <Choice value="true" displayValue="On" />
        <Choice value="false" displayValue="Off" />
      </OptionChoice>

      <OptionChoice name="StrataGenIgIntrusion" default=":=?StrataGenRocks" displayState=":=if(?StrataGenRocks, &quot;shown&quot;, &quot;hidden&quot;)" displayGroup="groupStrata">
        <Description>Generate igneous intrusions where mafic rock has penetrated the upper reaches of the crust. These contain large deposits of magnetite, magnesite, pentlandite, ilmenite, chromite, and vermiculite.</Description>
        <DisplayName>Igneous intrusions ┤</DisplayName>
        <Choice value="true" displayValue="On" />
        <Choice value="false" displayValue="Off" />
      </OptionChoice>

      <OptionChoice name="StrataGenEvaporite" default=":=?StrataGenRocks" displayState=":=if(?StrataGenRocks, &quot;shown&quot;, &quot;hidden&quot;)" displayGroup="groupStrata">
        <Description>Generate marine evaporite deposits rich in gypsum and rock salt.</Description>
        <DisplayName>Evaporite deposits ┤</DisplayName>
        <Choice value="true" displayValue="On" />
        <Choice value="false" displayValue="Off" />
      </OptionChoice>

      <!-- TODO: Brine
      PFAAGeologica:brine is minecraft:stained_glass:0
      PFAAGeologica:spring:7 minecraft:stained_glass:6
      <OptionChoice name="StrataGenBrines" default=":=?StrataGenRocks" displayState=":=if(?StrataGenRocks, &quot;shown_dynamic&quot;, &quot;hidden&quot;)" displayGroup="groupStrata">
      <OptionChoice name="StrataGenBrineWells" default=":=?StrataGenBrines" displayState=":=if(?StrataGenRocks &amp; ?StrataGenBrines, &quot;shown&quot;, &quot;hidden&quot;)" displayGroup="groupStrata">
      -->

      <!--
      <OptionChoice name="StrataGenBrines" default=":=false" displayState=":=if(?StrataGenRocks, &quot;shown_dynamic&quot;, &quot;hidden&quot;)" displayGroup="groupInternal">
        <Description>Generate pools of water concentrated with salts.</Description>
        <DisplayName>Brines (+)</DisplayName>
        <Choice value="true" displayValue="On" />
        <Choice value="false" displayValue="Off" />
      </OptionChoice>

      <OptionChoice name="StrataGenBrineWells" default=":=false" displayState=":=if(?StrataGenRocks &amp; ?StrataGenBrines, &quot;shown&quot;, &quot;hidden&quot;)" displayGroup="groupInternal">
        <Description>Generate renewing wells of brine.</Description>
        <DisplayName>Brine wells</DisplayName>
        <Choice value="true" displayValue="On" />
        <Choice value="false" displayValue="Off" />
      </OptionChoice>
      -->

      <OptionChoice name="StrataGenVMS" default=":=?StrataGenRocks" displayState=":=if(?StrataGenRocks, &quot;shown&quot;, &quot;hidden&quot;)" displayGroup="groupStrata">
        <Description>Generate Volcagenic Massive Sulfide deposits, rich in sulfide ores like sphalerite, galena, and chalcopyrite.</Description>
        <DisplayName>VMS deposits ┤</DisplayName>
        <Choice value="true" displayValue="On" />
        <Choice value="false" displayValue="Off" />
      </OptionChoice>

      <OptionChoice name="StrataGenSEDEX" default=":=?StrataGenRocks" displayState=":=if(?StrataGenRocks, &quot;shown&quot;, &quot;hidden&quot;)" displayGroup="groupStrata">
        <Description>Generate SEDimentary EXhalative deposits rich in sphalerite, galena, scheelite, and chalcopyrite.</Description>
        <DisplayName>SEDEX deposits ┤</DisplayName>
        <Choice value="true" displayValue="On" />
        <Choice value="false" displayValue="Off" />
      </OptionChoice>

      <OptionChoice name="StrataGenPegmatite" default=":=?StrataGenRocks" displayState=":=if(?StrataGenRocks, &quot;shown&quot;, &quot;hidden&quot;)" displayGroup="groupStrata">
        <Description>Generate pegmatite veins with a rich assortment of minerals.</Description>
        <DisplayName>Pegmatite veins ┤</DisplayName>
        <Choice value="true" displayValue="On" />
        <Choice value="false" displayValue="Off" />
      </OptionChoice>

      <OptionChoice name="StrataGenCarbonate" default=":=?StrataGenRocks" displayState=":=if(?StrataGenRocks, &quot;shown&quot;, &quot;hidden&quot;)" displayGroup="groupStrata">
        <Description>Generate carbonate deposits with minerals like magnesite, soapstone, wollastonite, sphalerite, and galena.</Description>
        <DisplayName>Carbonate ore deposits ┤</DisplayName>
        <Choice value="true" displayValue="On" />
        <Choice value="false" displayValue="Off" />
      </OptionChoice>

      <OptionChoice name="StrataGenMarine" default=":=?StrataGenRocks" displayState=":=if(?StrataGenRocks, &quot;shown&quot;, &quot;hidden&quot;)" displayGroup="groupStrata">
        <Description>Generate marine-related deposits.</Description>
        <DisplayName>Marine-related deposits ┤</DisplayName>
        <Choice value="true" displayValue="On" />
        <Choice value="false" displayValue="Off" />
      </OptionChoice>

      <OptionChoice name="StrataGenGraphite" default=":=?StrataGenRocks" displayState=":=if(?StrataGenRocks, &quot;shown&quot;, &quot;hidden&quot;)" displayGroup="groupStrata">
        <Description>Generate graphite deposits in various patterns.</Description>
        <DisplayName>Graphite deposits ┤</DisplayName>
        <Choice value="true" displayValue="On" />
        <Choice value="false" displayValue="Off" />
      </OptionChoice>

      <!-- FIXME: Palygorskite is missing from PFAA Geologica and therefore Strata -->
      <!-- FIXME: Attapulgite was not defined in this file before so it's still missing now -->
      <OptionChoice name="StrataGenClay" default=":=?StrataGenRocks" displayState=":=if(?StrataGenRocks, &quot;shown&quot;, &quot;hidden&quot;)" displayGroup="groupStrata">
        <Description>Generate mineral clay deposits, including bentonite and kaolinite.</Description>
        <DisplayName>Mineral clay deposits ┘</DisplayName>
        <Choice value="true" displayValue="On" />
        <Choice value="false" displayValue="Off" />
      </OptionChoice>

    </ConfigSection>

    <!-- Ore options -->
    <ConfigSection>

      <!-- Vanilla ores -->
      <ConfigSection>

        <OptionChoice name="StrataVanillaOreOverride" default=":=?StrataGenRocks" displayState=":=if(?StrataGenRocks, &quot;shown_dynamic&quot;, &quot;hidden&quot;)" displayGroup="groupStrata">
          <Description>If Strata generates a vanilla ore, override the corresponding generation from vanilla or other mods. It is most efficient, but not necessary, to also (or alternatively) disable the COG generation of these ores, as well as generation options in mod configurations.</Description>
          <DisplayName>§lOverride Vanilla Ores§r (+)</DisplayName>
          <Choice value="true" displayValue="Yes" />
          <Choice value="false" displayValue="No" />
        </OptionChoice>

        <OptionChoice name="StrataGenCoal" default=":=?StrataGenRocks &amp; ?StrataVanillaOreOverride" displayState=":=if(?StrataGenRocks &amp; ?StrataVanillaOreOverride, &quot;shown&quot;, &quot;hidden&quot;)" displayGroup="groupStrata">
          <Description>Redistribute or replace coal.</Description>
          <DisplayName>Coal ┤</DisplayName>
          <Choice value="true" displayValue="Redistribute" />
          <Choice value="false" displayValue="In-place replacement" />
        </OptionChoice>

        <OptionChoice name="StrataGenDiamond" default=":=?StrataGenRocks &amp; ?StrataVanillaOreOverride" displayState=":=if(?StrataGenRocks &amp; ?StrataVanillaOreOverride, &quot;shown&quot;, &quot;hidden&quot;)" displayGroup="groupStrata">
          <Description>Redistribute or replace diamonds.</Description>
          <DisplayName>Diamond ┤</DisplayName>
          <Choice value="true" displayValue="Redistribute" />
          <Choice value="false" displayValue="In-place replacement" />
        </OptionChoice>

        <OptionChoice name="StrataGenEmerald" default=":=?StrataGenRocks &amp; ?StrataVanillaOreOverride" displayState=":=if(?StrataGenRocks &amp; ?StrataVanillaOreOverride, &quot;shown&quot;, &quot;hidden&quot;)" displayGroup="groupStrata">
          <Description>Redistribute or replace emeralds.</Description>
          <DisplayName>Emerald ┤</DisplayName>
          <Choice value="true" displayValue="Redistribute" />
          <Choice value="false" displayValue="In-place replacement" />
        </OptionChoice>

        <OptionChoice name="StrataGenGold" default=":=?StrataGenRocks &amp; ?StrataVanillaOreOverride" displayState=":=if(?StrataGenRocks &amp; ?StrataVanillaOreOverride, &quot;shown&quot;, &quot;hidden&quot;)" displayGroup="groupStrata">
          <Description>Redistribute or replace gold.</Description>
          <DisplayName>Gold ┤</DisplayName>
          <Choice value="true" displayValue="Redistribute" />
          <Choice value="false" displayValue="In-place replacement" />
        </OptionChoice>

        <OptionChoice name="StrataGenIron" default=":=?StrataGenRocks &amp; ?StrataVanillaOreOverride" displayState=":=if(?StrataGenRocks &amp; ?StrataVanillaOreOverride, &quot;shown&quot;, &quot;hidden&quot;)" displayGroup="groupStrata">
          <Description>Redistribute or replace iron.</Description>
          <DisplayName>Iron ┤</DisplayName>
          <Choice value="true" displayValue="Redistribute" />
          <Choice value="false" displayValue="In-place replacement" />
        </OptionChoice>

        <OptionChoice name="StrataGenLapis" default=":=?StrataGenRocks &amp; ?StrataVanillaOreOverride" displayState=":=if(?StrataGenRocks &amp; ?StrataVanillaOreOverride, &quot;shown&quot;, &quot;hidden&quot;)" displayGroup="groupStrata">
          <Description>Redistribute or replace lapis lazuli.</Description>
          <DisplayName>Lapis Lazuli ┤</DisplayName>
          <Choice value="true" displayValue="Redistribute" />
          <Choice value="false" displayValue="In-place replacement" />
        </OptionChoice>

        <OptionChoice name="StrataGenRedstone" default=":=?StrataGenRocks &amp; ?StrataVanillaOreOverride" displayState=":=if(?StrataGenRocks &amp; ?StrataVanillaOreOverride, &quot;shown&quot;, &quot;hidden&quot;)" displayGroup="groupStrata">
          <Description>Redistribute or replace redstone.</Description>
          <DisplayName>Redstone ┘</DisplayName>
          <Choice value="true" displayValue="Redistribute" />
          <Choice value="false" displayValue="In-place replacement" />
        </OptionChoice>

      </ConfigSection>

      <!-- Redistributable custom ores -->
      <!-- TODO: How verbose should we be about industrial minerals? Extract to another section? -->
      <ConfigSection>

        <OptionChoice name="StrataCustomOreOverride" default=":=?StrataGenRocks" displayState=":=if(?StrataGenRocks, &quot;shown_dynamic&quot;, &quot;hidden&quot;)" displayGroup="groupStrata">
          <Description>If Strata generates a custom ore, override the corresponding generation from other mods. It is most efficient, but not necessary, to also (or alternatively) disable the COG generation of these ores, as well as generation options in mod configurations.</Description>
          <DisplayName>§lOverride Custom Ores§r (+)</DisplayName>
          <Choice value="true" displayValue="Yes" />
          <Choice value="false" displayValue="No" />
        </OptionChoice>

        <OptionChoice name="StrataGenAluminum" default=":=?StrataGenRocks &amp; ?StrataCustomOreOverride" displayState=":=if(?StrataGenRocks &amp; ?StrataCustomOreOverride, &quot;shown&quot;, &quot;hidden&quot;)" displayGroup="groupStrata">
          <Description>Redistribute or replace aluminum ore (alunite, bauxite).</Description>
          <DisplayName>Aluminum (Bauxite) ┤</DisplayName>
          <Choice value="true" displayValue="Redistribute" />
          <Choice value="false" displayValue="In-place replacement" />
        </OptionChoice>

        <OptionChoice name="StrataGenAntimony" default=":=?StrataGenRocks &amp; ?StrataCustomOreOverride" displayState=":=if(?StrataGenRocks &amp; ?StrataCustomOreOverride, &quot;shown&quot;, &quot;hidden&quot;)" displayGroup="groupStrata">
          <Description>Redistribute or replace antimony ore (stibnite).</Description>
          <DisplayName>Antimony (Stibnite) ┤</DisplayName>
          <Choice value="true" displayValue="Redistribute" />
          <Choice value="false" displayValue="In-place replacement" />
        </OptionChoice>

        <OptionChoice name="StrataGenApatite" default=":=?StrataGenRocks &amp; ?StrataCustomOreOverride" displayState=":=if(?StrataGenRocks &amp; ?StrataCustomOreOverride, &quot;shown&quot;, &quot;hidden&quot;)" displayGroup="groupStrata">
          <Description>Redistribute or replace apatite.</Description>
          <DisplayName>Apatite ┤</DisplayName>
          <Choice value="true" displayValue="Redistribute" />
          <Choice value="false" displayValue="In-place replacement" />
        </OptionChoice>

        <OptionChoice name="StrataGenArsenic" default=":=?StrataGenRocks &amp; ?StrataCustomOreOverride" displayState=":=if(?StrataGenRocks &amp; ?StrataCustomOreOverride, &quot;shown&quot;, &quot;hidden&quot;)" displayGroup="groupStrata">
          <Description>Redistribute or replace arsenic ore (realgar).</Description>
          <DisplayName>Arsenic (Realgar) ┤</DisplayName>
          <Choice value="true" displayValue="Redistribute" />
          <Choice value="false" displayValue="In-place replacement" />
        </OptionChoice>

        <OptionChoice name="StrataGenAsbestos" default=":=?StrataGenRocks &amp; ?StrataCustomOreOverride" displayState=":=if(?StrataGenRocks &amp; ?StrataCustomOreOverride, &quot;shown&quot;, &quot;hidden&quot;)" displayGroup="groupStrata">
          <Description>Redistribute or replace asbestos ore (chrysotile).</Description>
          <DisplayName>Asbestos (Chrysotile) ┤</DisplayName>
          <Choice value="true" displayValue="Redistribute" />
          <Choice value="false" displayValue="In-place replacement" />
        </OptionChoice>

        <OptionChoice name="StrataGenBarium" default=":=?StrataGenRocks &amp; ?StrataCustomOreOverride" displayState=":=if(?StrataGenRocks &amp; ?StrataCustomOreOverride, &quot;shown&quot;, &quot;hidden&quot;)" displayGroup="groupStrata">
          <Description>Redistribute or replace barium ore (barite).</Description>
          <DisplayName>Barium (Barite) ┤</DisplayName>
          <Choice value="true" displayValue="Redistribute" />
          <Choice value="false" displayValue="In-place replacement" />
        </OptionChoice>

        <OptionChoice name="StrataGenBastnasite" default=":=?StrataGenRocks &amp; ?StrataCustomOreOverride" displayState=":=if(?StrataGenRocks &amp; ?StrataCustomOreOverride, &quot;shown&quot;, &quot;hidden&quot;)" displayGroup="groupStrata">
          <Description>Redistribute or replace bastnäsite.</Description>
          <DisplayName>Bastnäsite ┤</DisplayName>
          <Choice value="true" displayValue="Redistribute" />
          <Choice value="false" displayValue="In-place replacement" />
        </OptionChoice>

        <OptionChoice name="StrataGenCaesium" default=":=?StrataGenRocks &amp; ?StrataCustomOreOverride" displayState=":=if(?StrataGenRocks &amp; ?StrataCustomOreOverride, &quot;shown&quot;, &quot;hidden&quot;)" displayGroup="groupStrata">
          <Description>Redistribute or replace caesium ore (pollucite).</Description>
          <DisplayName>Caesium (Pollucite) ┤</DisplayName>
          <Choice value="true" displayValue="Redistribute" />
          <Choice value="false" displayValue="In-place replacement" />
        </OptionChoice>

        <OptionChoice name="StrataGenChromium" default=":=?StrataGenRocks &amp; ?StrataCustomOreOverride" displayState=":=if(?StrataGenRocks &amp; ?StrataCustomOreOverride, &quot;shown&quot;, &quot;hidden&quot;)" displayGroup="groupStrata">
          <Description>Redistribute or replace chromium ore (chromite).</Description>
          <DisplayName>Chromium (Chromite) ┤</DisplayName>
          <Choice value="true" displayValue="Redistribute" />
          <Choice value="false" displayValue="In-place replacement" />
        </OptionChoice>

        <!-- FIXME: Malachite is missing from PFAA Geologica and therefore Strata -->
        <OptionChoice name="StrataGenCopper" default=":=?StrataGenRocks &amp; ?StrataCustomOreOverride" displayState=":=if(?StrataGenRocks &amp; ?StrataCustomOreOverride, &quot;shown&quot;, &quot;hidden&quot;)" displayGroup="groupStrata">
          <Description>Redistribute or replace copper ore (chalcopyrite).</Description>
          <DisplayName>Copper (Chalcopyrite) ┤</DisplayName>
          <Choice value="true" displayValue="Redistribute" />
          <Choice value="false" displayValue="In-place replacement" />
        </OptionChoice>

        <OptionChoice name="StrataGenFluorite" default=":=?StrataGenRocks &amp; ?StrataCustomOreOverride" displayState=":=if(?StrataGenRocks &amp; ?StrataCustomOreOverride, &quot;shown&quot;, &quot;hidden&quot;)" displayGroup="groupStrata">
          <Description>Redistribute or replace fluorite.</Description>
          <DisplayName>Fluorite ┤</DisplayName>
          <Choice value="true" displayValue="Redistribute" />
          <Choice value="false" displayValue="In-place replacement" />
        </OptionChoice>

        <OptionChoice name="StrataGenLead" default=":=?StrataGenRocks &amp; ?StrataCustomOreOverride" displayState=":=if(?StrataGenRocks &amp; ?StrataCustomOreOverride, &quot;shown&quot;, &quot;hidden&quot;)" displayGroup="groupStrata">
          <Description>Redistribute or replace lead ore (galena).</Description>
          <DisplayName>Lead (Galena) ┤</DisplayName>
          <Choice value="true" displayValue="Redistribute" />
          <Choice value="false" displayValue="In-place replacement" />
        </OptionChoice>

        <OptionChoice name="StrataGenLithium" default=":=?StrataGenRocks &amp; ?StrataCustomOreOverride" displayState=":=if(?StrataGenRocks &amp; ?StrataCustomOreOverride, &quot;shown&quot;, &quot;hidden&quot;)" displayGroup="groupStrata">
          <Description>Redistribute or replace lithium ore (lepidolite, spodumene).</Description>
          <DisplayName>Lithium (Lepidolite) ┤</DisplayName>
          <Choice value="true" displayValue="Redistribute" />
          <Choice value="false" displayValue="In-place replacement" />
        </OptionChoice>

        <OptionChoice name="StrataGenMagnesium" default=":=?StrataGenRocks &amp; ?StrataCustomOreOverride" displayState=":=if(?StrataGenRocks &amp; ?StrataCustomOreOverride, &quot;shown&quot;, &quot;hidden&quot;)" displayGroup="groupStrata">
          <Description>Redistribute or replace magnesium ore (magnesite).</Description>
          <DisplayName>Magnesium (Magnesite) ┤</DisplayName>
          <Choice value="true" displayValue="Redistribute" />
          <Choice value="false" displayValue="In-place replacement" />
        </OptionChoice>

        <OptionChoice name="StrataGenManganese" default=":=?StrataGenRocks &amp; ?StrataCustomOreOverride" displayState=":=if(?StrataGenRocks &amp; ?StrataCustomOreOverride, &quot;shown&quot;, &quot;hidden&quot;)" displayGroup="groupStrata">
          <Description>Redistribute or replace manganese ore (pyrolusite).</Description>
          <DisplayName>Manganese (Pyrolusite) ┤</DisplayName>
          <Choice value="true" displayValue="Redistribute" />
          <Choice value="false" displayValue="In-place replacement" />
        </OptionChoice>

        <OptionChoice name="StrataGenMercury" default=":=?StrataGenRocks &amp; ?StrataCustomOreOverride" displayState=":=if(?StrataGenRocks &amp; ?StrataCustomOreOverride, &quot;shown&quot;, &quot;hidden&quot;)" displayGroup="groupStrata">
          <Description>Redistribute or replace mercury ore (cinnabar).</Description>
          <DisplayName>Mercury (Cinnabar) ┤</DisplayName>
          <Choice value="true" displayValue="Redistribute" />
          <Choice value="false" displayValue="In-place replacement" />
        </OptionChoice>

        <OptionChoice name="StrataGenMica" default=":=?StrataGenRocks &amp; ?StrataCustomOreOverride" displayState=":=if(?StrataGenRocks &amp; ?StrataCustomOreOverride, &quot;shown&quot;, &quot;hidden&quot;)" displayGroup="groupStrata">
          <Description>Redistribute or replace mica.</Description>
          <DisplayName>Mica ┤</DisplayName>
          <Choice value="true" displayValue="Redistribute" />
          <Choice value="false" displayValue="In-place replacement" />
        </OptionChoice>

        <OptionChoice name="StrataGenMolybdenum" default=":=?StrataGenRocks &amp; ?StrataCustomOreOverride" displayState=":=if(?StrataGenRocks &amp; ?StrataCustomOreOverride, &quot;shown&quot;, &quot;hidden&quot;)" displayGroup="groupStrata">
          <Description>Redistribute or replace molybdenum ore (molybdenite).</Description>
          <DisplayName>Molybdenum (Molybdenite) ┤</DisplayName>
          <Choice value="true" displayValue="Redistribute" />
          <Choice value="false" displayValue="In-place replacement" />
        </OptionChoice>

        <OptionChoice name="StrataGenNickel" default=":=?StrataGenRocks &amp; ?StrataCustomOreOverride" displayState=":=if(?StrataGenRocks &amp; ?StrataCustomOreOverride, &quot;shown&quot;, &quot;hidden&quot;)" displayGroup="groupStrata">
          <Description>Redistribute or replace nickel ore (garnierite, pentlandite).</Description>
          <DisplayName>Nickel (Pentlandite) ┤</DisplayName>
          <Choice value="true" displayValue="Redistribute" />
          <Choice value="false" displayValue="In-place replacement" />
        </OptionChoice>

        <OptionChoice name="StrataGenPerlite" default=":=?StrataGenRocks &amp; ?StrataCustomOreOverride" displayState=":=if(?StrataGenRocks &amp; ?StrataCustomOreOverride, &quot;shown&quot;, &quot;hidden&quot;)" displayGroup="groupStrata">
          <Description>Redistribute or replace perlite.</Description>
          <DisplayName>Perlite ┤</DisplayName>
          <Choice value="true" displayValue="Redistribute" />
          <Choice value="false" displayValue="In-place replacement" />
        </OptionChoice>

        <OptionChoice name="StrataGenPyrite" default=":=?StrataGenRocks &amp; ?StrataCustomOreOverride" displayState=":=if(?StrataGenRocks &amp; ?StrataCustomOreOverride, &quot;shown&quot;, &quot;hidden&quot;)" displayGroup="groupStrata">
          <Description>Redistribute or replace pyrite.</Description>
          <DisplayName>Pyrite ┤</DisplayName>
          <Choice value="true" displayValue="Redistribute" />
          <Choice value="false" displayValue="In-place replacement" />
        </OptionChoice>

        <OptionChoice name="StrataGenSalt" default=":=?StrataGenRocks &amp; ?StrataCustomOreOverride" displayState=":=if(?StrataGenRocks &amp; ?StrataCustomOreOverride, &quot;shown&quot;, &quot;hidden&quot;)" displayGroup="groupStrata">
          <Description>Redistribute or replace salt ore (halite).</Description>
          <DisplayName>Salt (Halite) ┤</DisplayName>
          <Choice value="true" displayValue="Redistribute" />
          <Choice value="false" displayValue="In-place replacement" />
        </OptionChoice>

        <OptionChoice name="StrataGenStrontium" default=":=?StrataGenRocks &amp; ?StrataCustomOreOverride" displayState=":=if(?StrataGenRocks &amp; ?StrataCustomOreOverride, &quot;shown&quot;, &quot;hidden&quot;)" displayGroup="groupStrata">
          <Description>Redistribute or replace strontium ore (celestine).</Description>
          <DisplayName>Strontium (Celestine) ┤</DisplayName>
          <Choice value="true" displayValue="Redistribute" />
          <Choice value="false" displayValue="In-place replacement" />
        </OptionChoice>

        <OptionChoice name="StrataGenTantalum" default=":=?StrataGenRocks &amp; ?StrataCustomOreOverride" displayState=":=if(?StrataGenRocks &amp; ?StrataCustomOreOverride, &quot;shown&quot;, &quot;hidden&quot;)" displayGroup="groupStrata">
          <Description>Redistribute or replace tantalum ore (tantalite).</Description>
          <DisplayName>Tantalum (Tantalite) ┤</DisplayName>
          <Choice value="true" displayValue="Redistribute" />
          <Choice value="false" displayValue="In-place replacement" />
        </OptionChoice>

        <OptionChoice name="StrataGenTin" default=":=?StrataGenRocks &amp; ?StrataCustomOreOverride" displayState=":=if(?StrataGenRocks &amp; ?StrataCustomOreOverride, &quot;shown&quot;, &quot;hidden&quot;)" displayGroup="groupStrata">
          <Description>Redistribute or replace tin ore (cassiterite).</Description>
          <DisplayName>Tin (Cassiterite) ┤</DisplayName>
          <Choice value="true" displayValue="Redistribute" />
          <Choice value="false" displayValue="In-place replacement" />
        </OptionChoice>

        <OptionChoice name="StrataGenTitanium" default=":=?StrataGenRocks &amp; ?StrataCustomOreOverride" displayState=":=if(?StrataGenRocks &amp; ?StrataCustomOreOverride, &quot;shown&quot;, &quot;hidden&quot;)" displayGroup="groupStrata">
          <Description>Redistribute or replace titanium ore (ilmenite).</Description>
          <DisplayName>Titanium (Ilmenite) ┤</DisplayName>
          <Choice value="true" displayValue="Redistribute" />
          <Choice value="false" displayValue="In-place replacement" />
        </OptionChoice>

        <OptionChoice name="StrataGenTungsten" default=":=?StrataGenRocks &amp; ?StrataCustomOreOverride" displayState=":=if(?StrataGenRocks &amp; ?StrataCustomOreOverride, &quot;shown&quot;, &quot;hidden&quot;)" displayGroup="groupStrata">
          <Description>Redistribute or replace tungsten ore (scheelite, wolframite).</Description>
          <DisplayName>Tungsten (Wolframite) ┤</DisplayName>
          <Choice value="true" displayValue="Redistribute" />
          <Choice value="false" displayValue="In-place replacement" />
        </OptionChoice>

        <OptionChoice name="StrataGenUranium" default=":=?StrataGenRocks &amp; ?StrataCustomOreOverride" displayState=":=if(?StrataGenRocks &amp; ?StrataCustomOreOverride, &quot;shown&quot;, &quot;hidden&quot;)" displayGroup="groupStrata">
          <Description>Redistribute or replace uranium ore (pitchblende).</Description>
          <DisplayName>Uranium (Pitchblende) ┤</DisplayName>
          <Choice value="true" displayValue="Redistribute" />
          <Choice value="false" displayValue="In-place replacement" />
        </OptionChoice>

        <!-- Implementation Detail: This does not stop quartzite from generating -->
        <OptionChoice name="StrataGenQuartz" default=":=?StrataGenRocks &amp; ?StrataCustomOreOverride" displayState=":=if(?StrataGenRocks &amp; ?StrataCustomOreOverride, &quot;shown&quot;, &quot;hidden&quot;)" displayGroup="groupStrata">
          <Description>Redistribute or replace quartz and associated minerals (kyanite).</Description>
          <DisplayName>Quartz ┤</DisplayName>
          <Choice value="true" displayValue="Redistribute" />
          <Choice value="false" displayValue="In-place replacement" />
        </OptionChoice>

        <OptionChoice name="StrataGenVanadium" default=":=?StrataGenRocks &amp; ?StrataCustomOreOverride" displayState=":=if(?StrataGenRocks &amp; ?StrataCustomOreOverride, &quot;shown&quot;, &quot;hidden&quot;)" displayGroup="groupStrata">
          <Description>Redistribute or replace vanadium ore (vanadium magnetite).</Description>
          <DisplayName>Vanadium (Vanadium Magnetite) ┤</DisplayName>
          <Choice value="true" displayValue="Redistribute" />
          <Choice value="false" displayValue="In-place replacement" />
        </OptionChoice>

        <OptionChoice name="StrataGenZinc" default=":=?StrataGenRocks &amp; ?StrataCustomOreOverride" displayState=":=if(?StrataGenRocks &amp; ?StrataCustomOreOverride, &quot;shown&quot;, &quot;hidden&quot;)" displayGroup="groupStrata">
          <Description>Redistribute or replace zinc ore (sphalerite).</Description>
          <DisplayName>Zinc (Sphalerite) ┘</DisplayName>
          <Choice value="true" displayValue="Redistribute" />
          <Choice value="false" displayValue="In-place replacement" />
        </OptionChoice>

        <!-- TODO: Petroleum
        PFAAGeologica:extraHeavyOil minecraft:stained_glass:1
        PFAAGeologica:heavyOil minecraft:stained_glass:2
        PFAAGeologica:lightOil minecraft:stained_glass:3
        PFAAGeologica:mediumOil minecraft:stained_glass:4
        PFAAGeologica:naturalGas minecraft:stained_glass:5
        <OptionChoice name="StrataGenPetroleum" default=":=?StrataGenRocks &amp; ?StrataCustomOreOverride" displayState=":=if(?StrataGenRocks &amp; ?StrataCustomOreOverride, &quot;shown&quot;, &quot;hidden&quot;)" displayGroup="groupStrata">
        -->

        <!--
        <OptionChoice name="StrataGenPetroleum" default=":=false" displayState=":=if(?StrataGenRocks &amp; ?StrataCustomOreOverride, &quot;shown&quot;, &quot;hidden&quot;)" displayGroup="groupInternal">
          <Description>Generate petroleum resources, including crude oil (four types), oil sand, oil shale, and natural gas.</Description>
          <DisplayName>Petroleum</DisplayName>
          <Choice value="true" displayValue="On" />
          <Choice value="false" displayValue="Off" />
        </OptionChoice>
        -->

      </ConfigSection>

      <!-- TODO: Replaceable custom ores-->
      <!--
      <ConfigSection>

        <OptionChoice name="StrataCustomOreReplacement" default=":=?StrataGenRocks" displayState=":=if(?StrataGenRocks, &quot;shown_dynamic&quot;, &quot;hidden&quot;)" displayGroup="groupStrata">
          <Description>If Strata knows about a custom ore but does not generate it, the corresponding ore can be replaced without redistribution.</Description>
          <DisplayName>§lReplace Custom Ores§r (+)</DisplayName>
          <Choice value="true" displayValue="Yes" />
          <Choice value="false" displayValue="No" />
        </OptionChoice>

      </ConfigSection>
      -->

    </ConfigSection>

  </ConfigSection>

  <!-- Strata -->
  <IfCondition condition=":=?StrataActive">

    <!-- Biome sets -->
    <ConfigSection>

      <!-- BOP -->
      <BiomeSet name="shieldVolcano">
        <Biome name="Volcano" />
        <Biome name="Deadlands" />
      </BiomeSet>
      <BiomeSet name="stratovolcano">
        <Biome name="Extreme\s*Hills.*" />
      </BiomeSet>
      <!-- BOP -->
      <BiomeSet name="caldera">
        <Biome name="Hot Springs" />
      </BiomeSet>
      <BiomeSet name="felsic">
        <BiomeSet inherits="stratovolcano" />
        <BiomeSet inherits="caldera" />
      </BiomeSet>
      <BiomeSet name="volcanic">
        <BiomeSet inherits="felsic" />
        <BiomeSet inherits="shieldVolcano" />
      </BiomeSet>
      <!-- BOP -->
      <BiomeSet name="dome">
        <Biome name="glacier" />
      </BiomeSet>
      <BiomeSet name="folded">
        <!-- BOP -->
        <Biome name="alps" />
        <Biome name="highlands" />
        <Biome name="crag" />
        <Biome name="ice mountains" />
      </BiomeSet>
      <BiomeSet name="island">
        <BiomeType name="mushroom" />
      </BiomeSet>
      <BiomeSet name="oceanic">
        <BiomeType name="ocean" />
        <BiomeSet inherits="island" />
      </BiomeSet>
      <BiomeSet name="sedocean">
        <BiomeType name="ocean" />
        <Biome name="deep ocean" weight="-1" />
      </BiomeSet>
      <BiomeSet name="continental">
        <Biome name=".*" />
        <BiomeSet inherits="oceanic" weight="-1" />
        <BiomeSet inherits="volcanic" weight="-1" />
      </BiomeSet>
      <BiomeSet name="inland" inherits="continental">
        <BiomeType name="beach" weight="-1" />
      </BiomeSet>
      <BiomeSet name="frozen-continental">
        <BiomeType name="cold" />
        <BiomeType name="ocean" weight="-1" />
      </BiomeSet>
      <BiomeSet name="mesa">
        <BiomeType name="mesa" />
        <!-- Forge misses the mutated mesas -->
        <Biome name="Mesa .*M" />
      </BiomeSet>

    </ConfigSection>

    <!-- Ore to stone -->
    <ConfigSection>

      <!-- When a substitute preset inherits from another and specifies block replacements, inherited replacements
      are null and void. This may be intentional. For example, PresetLimestoneOceanic replaces with limestone whatever
      PresetPrimarySedimentaryOceanic replaces (stone and dirt, and the time of writing), and
      PresetPrimarySedimentaryOceanic inherits from PresetPrimaryStratum which replaces stone (and ores, originally).
      Because PresetPrimarySedimentaryOceanic specifies replacements, it did not replace the ores
      that PresetPrimaryStratum did and would leave behind unsightly clumps of ores in strange places.
      We can't fix this in COG (because it may not be a bug, for one). What we can do is replace the ores
      that we are going to generate with stone prior to further substitution which is expected to replace stone.
      This was reproducible with seed 3310535551474286366 with iron ore near -815 37 355 and coal ore near -654 43 513.
      Both of these occurred within PresetLimestoneOceanic's area of effect. -->

      <IfCondition condition=":=?StrataVanillaOreOverride">
        <IfCondition condition=":=?StrataGenCoal">
          <Substitute name="CoalToStone" block="minecraft:stone">
            <ReplacesOre block="oreCoal" />
          </Substitute>
        </IfCondition>
        <IfCondition condition=":=?StrataGenDiamond">
          <Substitute name="DiamondToStone" block="minecraft:stone">
            <ReplacesOre block="oreDiamond" />
          </Substitute>
        </IfCondition>
        <IfCondition condition=":=?StrataGenEmerald">
          <Substitute name="EmeraldToStone" block="minecraft:stone">
            <ReplacesOre block="oreEmerald" />
          </Substitute>
        </IfCondition>
        <IfCondition condition=":=?StrataGenGold">
          <Substitute name="GoldToStone" block="minecraft:stone">
            <ReplacesOre block="oreGold" />
          </Substitute>
        </IfCondition>
        <IfCondition condition=":=?StrataGenIron">
          <Substitute name="IronToStone" block="minecraft:stone">
            <ReplacesOre block="oreIron" />
          </Substitute>
        </IfCondition>
        <IfCondition condition=":=?StrataGenLapis">
          <Substitute name="LapisToStone" block="minecraft:stone">
            <ReplacesOre block="oreLapis" />
          </Substitute>
        </IfCondition>
        <IfCondition condition=":=?StrataGenRedstone">
          <Substitute name="RedstoneToStone" block="minecraft:stone">
            <ReplacesOre block="oreRedstone" />
          </Substitute>
        </IfCondition>
      </IfCondition>

      <IfCondition condition=":=?StrataCustomOreOverride">
        <IfCondition condition=":=?StrataGenAluminum">
          <Substitute name="AluminumToStone" block="minecraft:stone">
            <ReplacesOre block="oreBauxite" />
          </Substitute>
        </IfCondition>
        <IfCondition condition=":=?StrataGenAntimony">
          <Substitute name="ChromiumToStone" block="minecraft:stone">
            <ReplacesOre block="oreAntimony" />
          </Substitute>
        </IfCondition>
        <IfCondition condition=":=?StrataGenApatite">
          <Substitute name="ApatiteToStone" block="minecraft:stone">
            <ReplacesOre block="oreApatite" />
          </Substitute>
        </IfCondition>
        <IfCondition condition=":=?StrataGenArsenic">
          <Substitute name="ArsenicToStone" block="minecraft:stone">
            <ReplacesOre block="oreArsenic" />
          </Substitute>
        </IfCondition>
        <IfCondition condition=":=?StrataGenAsbestos">
          <Substitute name="AsbestosToStone" block="minecraft:stone">
            <ReplacesOre block="oreAsbestos" />
          </Substitute>
        </IfCondition>
        <IfCondition condition=":=?StrataGenBarium">
          <Substitute name="BariumToStone" block="minecraft:stone">
            <ReplacesOre block="oreBarium" />
          </Substitute>
        </IfCondition>
        <IfCondition condition=":=?StrataGenBastnasite">
          <Substitute name="BastnasiteToStone" block="minecraft:stone">
            <ReplacesOre block="oreBastnasite" />
          </Substitute>
        </IfCondition>
        <IfCondition condition=":=?StrataGenCaesium">
          <Substitute name="CaesiumToStone" block="minecraft:stone">
            <ReplacesOre block="oreCaesium" />
          </Substitute>
        </IfCondition>
        <IfCondition condition=":=?StrataGenChromium">
          <Substitute name="ChromiumToStone" block="minecraft:stone">
            <ReplacesOre block="oreChromium" />
          </Substitute>
        </IfCondition>
        <IfCondition condition=":=?StrataGenCopper">
          <Substitute name="CopperToStone" block="minecraft:stone">
            <ReplacesOre block="oreCopper" />
          </Substitute>
        </IfCondition>
        <IfCondition condition=":=?StrataGenFluorite">
          <Substitute name="FluoriteToStone" block="minecraft:stone">
            <ReplacesOre block="oreFluorite" />
          </Substitute>
        </IfCondition>
        <IfCondition condition=":=?StrataGenLead">
          <Substitute name="LeadToStone" block="minecraft:stone">
            <ReplacesOre block="oreLead" />
          </Substitute>
        </IfCondition>
        <IfCondition condition=":=?StrataGenLithium">
          <Substitute name="LithiumToStone" block="minecraft:stone">
            <ReplacesOre block="oreLithium" />
          </Substitute>
        </IfCondition>
        <IfCondition condition=":=?StrataGenMagnesium">
          <Substitute name="MagnesiumToStone" block="minecraft:stone">
            <ReplacesOre block="oreMagnesium" />
          </Substitute>
        </IfCondition>
        <IfCondition condition=":=?StrataGenManganese">
          <Substitute name="ManganeseToStone" block="minecraft:stone">
            <ReplacesOre block="oreManganese" />
          </Substitute>
        </IfCondition>
        <IfCondition condition=":=?StrataGenMercury">
          <Substitute name="MercuryToStone" block="minecraft:stone">
            <ReplacesOre block="oreCinnabar" />
          </Substitute>
        </IfCondition>
        <IfCondition condition=":=?StrataGenMolybdenum">
          <Substitute name="MolybdenumToStone" block="minecraft:stone">
            <ReplacesOre block="oreMolybdenum" />
          </Substitute>
        </IfCondition>
        <IfCondition condition=":=?StrataGenNickel">
          <Substitute name="NickelToStone" block="minecraft:stone">
            <ReplacesOre block="oreNickel" />
          </Substitute>
        </IfCondition>
        <IfCondition condition=":=?StrataGenPyrite">
          <Substitute name="PyriteToStone" block="minecraft:stone">
            <ReplacesOre block="orePyrite" />
          </Substitute>
        </IfCondition>
        <IfCondition condition=":=?StrataGenSalt">
          <Substitute name="SaltToStone" block="minecraft:stone">
            <ReplacesOre block="oreSalt" />
          </Substitute>
        </IfCondition>
        <IfCondition condition=":=?StrataGenStrontium">
          <Substitute name="StrontiumToStone" block="minecraft:stone">
            <ReplacesOre block="oreStrontium" />
          </Substitute>
        </IfCondition>
        <IfCondition condition=":=?StrataGenTantalum">
          <Substitute name="TantalumToStone" block="minecraft:stone">
            <ReplacesOre block="oreTantalum" />
          </Substitute>
        </IfCondition>
        <IfCondition condition=":=?StrataGenTin">
          <Substitute name="TinToStone" block="minecraft:stone">
            <ReplacesOre block="oreTin" />
          </Substitute>
        </IfCondition>
        <IfCondition condition=":=?StrataGenTitanium">
          <Substitute name="TitaniumToStone" block="minecraft:stone">
            <ReplacesOre block="oreTitanium" />
          </Substitute>
        </IfCondition>
        <IfCondition condition=":=?StrataGenTungsten">
          <Substitute name="TungstenToStone" block="minecraft:stone">
            <ReplacesOre block="oreTungsten" />
          </Substitute>
        </IfCondition>
        <IfCondition condition=":=?StrataGenUranium">
          <Substitute name="UraniumToStone" block="minecraft:stone">
            <ReplacesOre block="oreUranium" />
          </Substitute>
        </IfCondition>
        <IfCondition condition=":=?StrataGenQuartz">
          <Substitute name="QuartzToStone" block="minecraft:stone">
            <ReplacesOre block="oreQuartz" />
          </Substitute>
        </IfCondition>
        <IfCondition condition=":=?StrataGenVanadium">
          <Substitute name="VanadiumToStone" block="minecraft:stone">
            <ReplacesOre block="oreVanadium" />
          </Substitute>
        </IfCondition>
        <IfCondition condition=":=?StrataGenZinc">
          <Substitute name="LeadZincToStone" block="minecraft:stone">
            <ReplacesOre block="oreZinc" />
          </Substitute>
        </IfCondition>
      </IfCondition>

    </ConfigSection>

    <!-- Common presets -->
    <ConfigSection>

      <SubstitutePreset name="PresetPrimaryStratum">
        <Replaces block="minecraft:stone" />
      </SubstitutePreset>
      <SubstitutePreset name="PresetPrimaryStratumContinental" inherits="PresetPrimaryStratum">
        <Description>The continental crust is fundamentally different from the oceanic crust, and from volcanic regions. It is formed via plate subduction, where water from the ocean is intermixed, causing partial melting and the formation of felsic igneous rock (granite). Also, there is more substantial accumulation of sediment relative to the ocean.</Description>
        <BiomeSet inherits="continental" />
        <BiomeSet inherits="folded" weight="-1" />
      </SubstitutePreset>
      <SubstitutePreset name="PresetPrimaryStratumOceanic" inherits="PresetPrimaryStratum">
        <Description>The ocean crust is formed from partial melting of peridotite from the mantel. This results in gabbro intrusions and extrusions in the form of basalt. Islands are formed from accumulation of basalt.</Description>
        <BiomeSet inherits="oceanic" />
        <BiomeSet inherits="folded" />
      </SubstitutePreset>
      <SubstitutePreset name="PresetPrimaryStratumVolcanic" inherits="PresetPrimaryStratum">
        <Description>Numerous igneous intrusions will be found beneath volcanoes. These volcanoes are assumed to be formed in subduction zones, so they will be layered with felsic extrusions, like rhyolite and andesite.</Description>
        <BiomeSet inherits="felsic" />
      </SubstitutePreset>

      <CloudPreset name="PresetStratum">
        <Description>Solid clouds that form layers of rock and minerals. Individual layer generators are expected to modify CloudHeight, CouldThickness, and DistributionFrequency settings.</Description>
        <Setting name="DistributionFrequency" avg="1.0" />
        <Setting name="CloudRadius" avg="16" range="0" type="normal" />
        <Setting name="CloudThickness" range="3" type="normal" />
        <Setting name="CloudHeight" range="2" type="uniform" />
        <Setting name="OreDensity" avg="1.0" />
        <Setting name="OreVolumeNoiseCutoff" avg="0" />
        <Replaces block="minecraft:stone" />
      </CloudPreset>
      <CloudPreset name="PresetStratumContinental" inherits="PresetStratum">
        <BiomeSet inherits="continental" />
      </CloudPreset>
      <CloudPreset name="PresetStratumOceanic" inherits="PresetStratum">
        <BiomeSet inherits="oceanic" />
        <BiomeSet inherits="folded" />
      </CloudPreset>
      <CloudPreset name="PresetStratumVolcanic" inherits="PresetStratum">
        <BiomeSet inherits="felsic" />
      </CloudPreset>
      <CloudPreset name="PresetPlacer" inherits="PresetStratum">
        <Setting name="CloudThickness" avg="1" range="0" />
        <Setting name="DistributionFrequency" avg="0.04" range="0" />
        <Setting name="CloudHeight" avg="62" range="1" type="uniform" scaleTo="sealevel" />
        <Replaces block="minecraft:grass" />
        <ReplacesRegexp block=".*sand" />
        <!-- <Replaces block='.*dirt'/> -->
        <Replaces block="minecraft:gravel" />
        <Replaces block="minecraft:clay" />
      </CloudPreset>

      <VeinsPreset name="PresetRockVeins">
        <Description>Thick veins of rock, usually formed through hydrothermal processes.</Description>
        <Setting name="MotherlodeRangeLimit" avg="8" range="5" />
        <Setting name="MotherlodeSize" avg="4" />
        <Setting name="SegmentRadius" avg="3" range="2" type="normal" />
      </VeinsPreset>
      <VeinsPreset name="PresetIntrusiveVeins" inherits="PresetRockVeins" drawWireframe="false" wireframeColor="0xFF00AA00">
        <Setting name="MotherlodeFrequency" avg="0.02" />
        <Setting name="MotherlodeHeight" avg="30" range="30" />
        <BiomeSet inherits="continental" weight="0.5" />
        <BiomeSet inherits="oceanic" />
        <BiomeSet inherits="volcanic" />
        <ReplacesOre block="stone" />
      </VeinsPreset>

    </ConfigSection>

    <!-- Common rock presets -->
    <ConfigSection>

      <!-- Igneous -->
      <ConfigSection>

        <Description>Igneous rocks are either intrusive (from magma) or extrusive (from lava). There is a range of silicate content, denoted by the terms mafic, intermediate, and felsic in increasing order. Extrusive rocks will be limited to volcanic regions, i.e, islands and the extreme hills. Islands consist of mafic basalt, and one will find only the more felsic andesite and rhyolite in the mountains. Igneous intrusions lay deep under the surface of every biome.</Description>

        <!-- Diorite -->
        <ConfigSection>
          <SubstitutePreset name="PresetDioriteContinental" block="strata:diorite" inherits="PresetPrimaryStratumContinental" minHeight="0" maxHeight="18" />
          <SubstitutePreset name="PresetDioriteVolcanic" block="strata:diorite" inherits="PresetPrimaryStratumVolcanic" minHeight="15" maxHeight="38" />
          <VeinsPreset name="PresetDioriteVeins" inherits="PresetIntrusiveVeins" drawWireframe="false" wireframeColor="0xFF222222" block="strata:diorite" />
        </ConfigSection>

        <!-- Gabbro -->
        <ConfigSection>
          <SubstitutePreset name="PresetGabbroVolcanic" block="strata:gabbro" inherits="PresetPrimaryStratumVolcanic" minHeight="0" maxHeight="12" />
          <SubstitutePreset name="PresetGabbroShieldVolcano" block="strata:gabbro" inherits="PresetPrimaryStratumContinental" minHeight="0" maxHeight="37">
            <BiomeSet inherits="shieldVolcano" />
          </SubstitutePreset>
          <SubstitutePreset name="PresetGabbroOceanic" block="strata:gabbro" inherits="PresetPrimaryStratumOceanic" minHeight="0" maxHeight="12" />
          <VeinsPreset name="PresetGabbroVeins" inherits="PresetIntrusiveVeins" drawWireframe="false" wireframeColor="0xFFAA5555" block="strata:gabbro" />
        </ConfigSection>

        <!-- Granite -->
        <ConfigSection>
          <SubstitutePreset name="PresetGraniteContinental" block="strata:granite" inherits="PresetPrimaryStratumContinental" minHeight="21" maxHeight="44" />
          <SubstitutePreset name="PresetGraniteVolcanic" block="strata:granite" inherits="PresetPrimaryStratumVolcanic" minHeight="41" maxHeight="73" />
          <SubstitutePreset name="PresetGraniteVolcanicCobble" block="strata:granite_cobble" inherits="PresetGraniteVolcanic" maxHeight="75">
            <ReplacesOre block="cobblestone" />
          </SubstitutePreset>
          <SubstitutePreset name="PresetGraniteShield" block="strata:granite" inherits="PresetPrimaryStratum" minHeight="41" maxHeight="80">
            <Biome name="shield" />
            <!-- BOP -->
          </SubstitutePreset>
          <SubstitutePreset name="PresetGraniteShieldCobble" block="strata:granite_cobble" inherits="PresetGraniteShield">
            <ReplacesOre block="cobblestone" />
          </SubstitutePreset>
          <SubstitutePreset name="PresetGraniteDome" block="strata:granite" inherits="PresetPrimaryStratum" minHeight="77" maxHeight="130">
            <BiomeSet inherits="dome" />
            <Replaces block="minecraft:stone" />
            <Replaces block="minecraft:dirt" />
            <Replaces block="minecraft:grass" />
          </SubstitutePreset>
          <SubstitutePreset name="PresetGraniteDomeCobble" block="strata:granite_cobble" inherits="PresetGraniteDome">
            <ReplacesOre block="cobblestone" />
          </SubstitutePreset>
        </ConfigSection>

        <!-- Andesite -->
        <ConfigSection>
          <SubstitutePreset name="PresetAndesite" block="strata:andesite" inherits="PresetPrimaryStratumVolcanic" minHeight="76" maxHeight="89" />
          <SubstitutePreset name="PresetAndesiteCobble" block="strata:andesite_cobble" inherits="PresetAndesite" maxHeight="91">
            <ReplacesOre block="cobblestone" />
          </SubstitutePreset>
        </ConfigSection>

        <!-- Basalt -->
        <ConfigSection>
          <SubstitutePreset name="PresetBasalt" block="strata:basalt" inherits="PresetPrimaryStratumOceanic" minHeight="15" maxHeight="34" />
          <SubstitutePreset name="PresetBasaltShieldVolcano" block="strata:basalt" inherits="PresetPrimaryStratumContinental" minHeight="40" maxHeight="255">
            <BiomeSet inherits="shieldVolcano" />
          </SubstitutePreset>
          <SubstitutePreset name="PresetBasaltShieldVolcanoCobble" block="strata:basalt_cobble" inherits="PresetBasaltShieldVolcano">
            <ReplacesOre block="cobblestone" />
          </SubstitutePreset>
          <SubstitutePreset name="PresetBasaltIsland" block="strata:basalt" inherits="PresetPrimaryStratumOceanic" minHeight="52" maxHeight="120">
            <BiomeSet inherits="oceanic" />
          </SubstitutePreset>
          <SubstitutePreset name="PresetBasaltIslandCobble" block="strata:basalt_cobble" inherits="PresetBasaltIsland">
            <ReplacesOre block="cobblestone" />
          </SubstitutePreset>
          <SubstitutePreset name="PresetBasaltMesa" block="strata:basalt" inherits="PresetPrimaryStratumContinental" minHeight="91" maxHeight="93">
            <BiomeSet inherits="mesa" />
            <Replaces block="minecraft:stone" />
            <Replaces block="minecraft:hardened_clay" />
            <Replaces block="minecraft:stained_hardened_clay" />
          </SubstitutePreset>
          <SubstitutePreset name="PresetBasaltMesaCobble" block="strata:basalt_cobble" inherits="PresetBasaltMesa">
            <ReplacesOre block="cobblestone" />
          </SubstitutePreset>
        </ConfigSection>

        <!-- Rhyolite -->
        <ConfigSection>
          <SubstitutePreset name="PresetRhyolite" block="strata:rhyolite" inherits="PresetPrimaryStratumVolcanic" minHeight="92" />
          <SubstitutePreset name="PresetRhyoliteCobble" block="strata:rhyolite_cobble" inherits="PresetRhyolite">
            <ReplacesOre block="cobblestone" />
          </SubstitutePreset>
          <SubstitutePreset name="PresetRhyoliteCaldera" block="strata:rhyolite" inherits="PresetPrimaryStratum" minHeight="47" maxHeight="90">
            <BiomeSet inherits="caldera" />
          </SubstitutePreset>
          <SubstitutePreset name="PresetRhyoliteCalderaCobble" block="strata:rhyolite_cobble" inherits="PresetRhyoliteCaldera">
            <ReplacesOre block="cobblestone" />
          </SubstitutePreset>
        </ConfigSection>

      </ConfigSection>

      <!-- Sedimentary -->
      <ConfigSection>

        <Description>Sedimentary rocks include mudstone, claystone, limestone, conglomerate/breccia, and sandstone, among others that we exclude for simplicity. These will be deposited everywhere except the volcanic zones.</Description>

        <SubstitutePreset name="PresetPrimarySedimentaryContinental" inherits="PresetPrimaryStratumContinental">
          <BiomeSet inherits="continental" />
        </SubstitutePreset>

        <SubstitutePreset name="PresetPrimarySedimentaryMesa" inherits="PresetPrimarySedimentaryContinental">
          <BiomeSet inherits="mesa" />
          <Replaces block="minecraft:stone" />
          <Replaces block="minecraft:hardened_clay" />
          <Replaces block="minecraft:stained_hardened_clay" />
        </SubstitutePreset>

        <CloudPreset name="PresetSedimentaryContinental" inherits="PresetStratumContinental">
          <BiomeSet inherits="continental" />
        </CloudPreset>

        <CloudPreset name="PresetSedimentaryContinentalMinor" inherits="PresetSedimentaryContinental">
          <Setting name="CloudThickness" avg="4" range="2" />
          <Setting name="CloudHeight" avg=":= 75/64 * dimension.groundLevel" range="30" />
          <Replaces block="minecraft:stone" />
          <Replaces block="strata:mudstone" />
          <Replaces block="strata:limestone" />
          <Replaces block="strata:granite" />
        </CloudPreset>

        <SubstitutePreset name="PresetPrimarySedimentaryOceanic" inherits="PresetPrimaryStratum" minHeight="37" maxHeight="49">
          <BiomeType name="ocean" />
          <BiomeSet inherits="folded" />
          <Replaces block="minecraft:stone" />
          <Replaces block="minecraft:dirt" />
        </SubstitutePreset>

        <CloudPreset name="PresetSedimentaryOceanic" inherits="PresetStratumOceanic">
          <Setting name="CloudThickness" avg="5" />
          <Setting name="CloudHeight" avg="45" />
          <Replaces block="minecraft:stone" />
          <Replaces block="minecraft:dirt" />
          <Replaces block="strata:limestone" />
        </CloudPreset>

        <!-- Breccia -->
        <ConfigSection>
          <CloudPreset name="PresetBreccia" block="strata:breccia" inherits="PresetSedimentaryContinentalMinor">
            <Setting name="DistributionFrequency" avg="0.20" />
          </CloudPreset>
        </ConfigSection>

        <!-- Claystone -->
        <ConfigSection>
          <CloudPreset name="PresetClaystone" block="strata:claystone" inherits="PresetSedimentaryContinentalMinor">
            <Setting name="DistributionFrequency" avg="0.20" />
          </CloudPreset>
          <CloudPreset name="PresetClaystoneOceanic" block="strata:claystone" inherits="PresetSedimentaryOceanic">
            <Setting name="DistributionFrequency" avg="0.02" />
          </CloudPreset>
        </ConfigSection>

        <!-- Conglomerate -->
        <ConfigSection>
          <CloudPreset name="PresetConglomerate" block="strata:conglomerate" inherits="PresetSedimentaryContinentalMinor">
            <Setting name="DistributionFrequency" avg="0.20" />
          </CloudPreset>
        </ConfigSection>

        <!-- Mudstone -->
        <ConfigSection>
          <SubstitutePreset name="PresetMudstone" block="strata:mudstone" inherits="PresetPrimarySedimentaryContinental" minHeight="47" maxHeight="74" />
          <!--
              maxHeight=":= if(dimension.generator='ATGLevelSource', 89, 74)"
          -->
          <SubstitutePreset name="PresetMudstoneCobble" block="strata:mudstone_cobble" inherits="PresetMudstone" maxHeight="76">
            <ReplacesOre block="cobblestone" />
          </SubstitutePreset>
          <CloudPreset name="PresetMudstoneOceanic" block="strata:mudstone" inherits="PresetSedimentaryOceanic">
            <Setting name="DistributionFrequency" avg="0.10" />
          </CloudPreset>
          <SubstitutePreset name="PresetMudstoneMesa" block="strata:mudstone" inherits="PresetPrimarySedimentaryMesa" minHeight="78" maxHeight="80" />
          <SubstitutePreset name="PresetMudstoneMesaCobble" block="strata:mudstone_cobble" inherits="PresetMudstoneMesa">
            <ReplacesOre block="cobblestone" />
          </SubstitutePreset>
        </ConfigSection>

        <!-- Limestone -->
        <ConfigSection>
          <CloudPreset name="PresetLimestoneLower" block="strata:limestone" inherits="PresetSedimentaryContinentalMinor">
            <Setting name="DistributionFrequency" avg="0.20" />
          </CloudPreset>
          <SubstitutePreset name="PresetLimestoneOceanic" block="strata:limestone" inherits="PresetPrimarySedimentaryOceanic" />
          <SubstitutePreset name="PresetLimestoneHills" block="strata:limestone" inherits="PresetPrimarySedimentaryContinental" minHeight="77" maxHeight="110" />
          <SubstitutePreset name="PresetLimestoneHillsCobble" block="strata:limestone_cobble" inherits="PresetLimestoneHills" maxHeight="112">
            <ReplacesOre block="cobblestone" />
          </SubstitutePreset>
          <SubstitutePreset name="PresetLimestoneMesa" block="strata:limestone" inherits="PresetPrimarySedimentaryMesa" minHeight="73" maxHeight="77" />
          <SubstitutePreset name="PresetLimestoneMesaCobble" block="strata:limestone_cobble" inherits="PresetLimestoneMesa">
            <ReplacesOre block="cobblestone" />
          </SubstitutePreset>
        </ConfigSection>

        <!-- Sandstone -->
        <ConfigSection>
          <CloudPreset name="PresetSandstone" block="strata:sandstone" inherits="PresetSedimentaryContinentalMinor">
            <Setting name="DistributionFrequency" avg="0.40" />
          </CloudPreset>
          <CloudPreset name="PresetSandstoneOceanic" block="strata:sandstone" inherits="PresetSedimentaryOceanic">
            <Setting name="DistributionFrequency" avg="0.04" />
          </CloudPreset>
          <SubstitutePreset name="PresetSandstoneHills" block="strata:sandstone" inherits="PresetPrimarySedimentaryContinental" minHeight="113" maxHeight="150" />
          <SubstitutePreset name="PresetSandstoneHillsCobble" block="strata:sandstone_cobble" inherits="PresetSandstoneHills" maxHeight="152">
            <ReplacesOre block="cobblestone" />
          </SubstitutePreset>
          <SubstitutePreset name="PresetSandstoneMesa" block="strata:sandstone" inherits="PresetPrimarySedimentaryMesa" minHeight="67" maxHeight="72" />
          <SubstitutePreset name="PresetSandstoneMesaCobble" block="strata:sandstone_cobble" inherits="PresetSandstoneMesa">
            <ReplacesOre block="cobblestone" />
          </SubstitutePreset>
          <SubstitutePreset name="PresetSandstoneMesa2" block="strata:sandstone" inherits="PresetPrimarySedimentaryMesa" minHeight="81" maxHeight="83" />
          <SubstitutePreset name="PresetSandstoneMesaCobble2" block="strata:sandstone_cobble" inherits="PresetSandstoneMesa2">
            <ReplacesOre block="cobblestone" />
          </SubstitutePreset>
          <SubstitutePreset name="PresetRedSandstoneMesa" block="strata:red_sandstone" inherits="PresetPrimarySedimentaryMesa" minHeight="84" maxHeight="90" />
          <SubstitutePreset name="PresetRedSandstoneMesaCobble" block="strata:red_sandstone_cobble" inherits="PresetSandstoneMesa">
            <ReplacesOre block="cobblestone" />
          </SubstitutePreset>
          <SubstitutePreset name="PresetRedSandstoneMesaTop" block="strata:red_sandstone" inherits="PresetPrimarySedimentaryMesa" minHeight="94" maxHeight="105" />
          <SubstitutePreset name="PresetRedSandstoneMesaTopCobble" block="strata:red_sandstone_cobble" inherits="PresetRedSandstoneMesaTop">
            <ReplacesOre block="cobblestone" />
          </SubstitutePreset>
        </ConfigSection>

      </ConfigSection>

      <!-- Metamorphic -->
      <ConfigSection>

        <Description>Metamorphic rock has been formed from other rock. The changes are usually brought about through high temperature and pressure. A combination of these converts sedimentary rocks to slate, then schist, and finally gneiss. Increased temperature due to magma contact forms marble, hornfel, and quartzite. Pegmatite and serpentinite are created through hydrothermal activity.</Description>

        <CloudPreset name="PresetMetamorphicContinental" inherits="PresetStratumContinental">
          <Setting name="DistributionFrequency" avg="0.02" />
          <Setting name="CloudHeight" avg="40" range="5" />
          <Setting name="CloudThickness" avg="3" range="1" />
          <Replaces block="minecraft:stone" />
          <Replaces block="strata:mudstone" />
          <Replaces block="strata:granite" />
          <Replaces block="strata:diorite" />
        </CloudPreset>

        <CloudPreset name="PresetMetamorphicVolcanic" inherits="PresetStratumVolcanic">
          <Setting name="DistributionFrequency" avg="0.2" />
          <Setting name="CloudThickness" avg="4" range="2" />
          <Replaces block="minecraft:stone" />
          <Replaces block="strata:diorite" />
          <Replaces block="strata:andesite" />
          <Replaces block="strata:granite" />
        </CloudPreset>

        <CloudPreset name="PresetMetamorphicOceanic" inherits="PresetStratumOceanic">
          <Setting name="DistributionFrequency" avg="0.1" />
          <Setting name="CloudThickness" avg="3" range="2" />
          <Replaces block="minecraft:stone" />
          <Replaces block="strata:gabbro" />
          <Replaces block="strata:basalt" />
        </CloudPreset>

        <!-- Slate -->
        <ConfigSection>
          <CloudPreset name="PresetSlate" block="strata:slate" inherits="PresetMetamorphicContinental">
            <Setting name="DistributionFrequency" avg="0.2" />
          </CloudPreset>
        </ConfigSection>

        <!-- Schist -->
        <ConfigSection>
          <CloudPreset name="PresetSchist" block="strata:schist" inherits="PresetMetamorphicContinental">
            <Setting name="CloudHeight" avg="30" range="10" />
            <Setting name="DistributionFrequency" avg="0.1" />
          </CloudPreset>
          <CloudPreset name="PresetSchistVolcanic" block="strata:schist" inherits="PresetMetamorphicVolcanic">
            <Setting name="CloudHeight" avg="60" range="20" />
          </CloudPreset>
          <CloudPreset name="PresetSchistOceanic" block="strata:schist" inherits="PresetMetamorphicOceanic">
            <Setting name="CloudHeight" avg="15" range="10" />
          </CloudPreset>
        </ConfigSection>

        <!-- Skarn -->
        <ConfigSection>
          <CloudPreset name="PresetSkarn" inherits="PresetMetamorphicContinental">
            <Replaces block="minecraft:stone" />
            <Replaces block="strata:mudstone" />
            <Replaces block="strata:granite" />
            <Replaces block="strata:limestone" />
            <Replaces block="strata:basalt" />
            <Setting name="DistributionFrequency" avg="0.01" />
            <OreBlock block="strata:skarn" weight="0.9" />
            <OreBlock block="strata:limestone" weight="0.05" />
            <OreBlock block="strata:marble" weight="0.045" />
          </CloudPreset>
          <CloudPreset name="PresetSkarnOceanic" inherits="PresetSkarn">
            <Setting name="CloudHeight" avg=":= 35/64 * dimension.groundLevel" range=":= 3/64 * dimension.groundLevel" />
            <Setting name="DistributionFrequency" avg="0.01" />
          </CloudPreset>
        </ConfigSection>

        <!-- Gneiss -->
        <ConfigSection>
          <CloudPreset name="PresetGneiss" block="strata:gneiss" inherits="PresetMetamorphicContinental">
            <Setting name="CloudHeight" avg="20" range="10" />
            <Setting name="DistributionFrequency" avg="0.05" />
          </CloudPreset>
          <CloudPreset name="PresetGneissVolcanic" block="strata:gneiss" inherits="PresetMetamorphicVolcanic">
            <Setting name="CloudHeight" avg="25" range="20" />
          </CloudPreset>
          <CloudPreset name="PresetGneissShield" block="strata:gneiss" inherits="PresetMetamorphicContinental">
            <Setting name="CloudHeight" avg="55" range="10" />
            <Biome name="shield" />
          </CloudPreset>
          <SubstitutePreset name="PresetGneissTops" block="strata:gneiss" inherits="PresetPrimarySedimentaryContinental" minHeight="153" maxHeight="255">
            <Biome name="alps" />
          </SubstitutePreset>
          <SubstitutePreset name="PresetGneissTopsCobble" block="strata:gneiss_cobble" inherits="PresetGneissTops">
            <ReplacesOre block="cobblestone" />
          </SubstitutePreset>
        </ConfigSection>

        <!-- Greenschist -->
        <ConfigSection>
          <CloudPreset name="PresetGreenschistContinental" block="strata:greenschist" inherits="PresetSchist">
            <Setting name="DistributionFrequency" avg="0.001" />
          </CloudPreset>
          <CloudPreset name="PresetGreenschistVolcanic" block="strata:greenschist" inherits="PresetStratumVolcanic">
            <Setting name="DistributionFrequency" avg="0.02" />
            <Setting name="CloudHeight" avg="10" range="5" />
            <Setting name="CloudThickness" avg="3" range="1" />
            <Replaces block="minecraft:stone" />
            <Replaces block="strata:gabbro" />
          </CloudPreset>
          <CloudPreset name="PresetGreenschistOceanic" block="strata:greenschist" inherits="PresetStratumOceanic">
            <Setting name="DistributionFrequency" avg="0.05" />
            <Setting name="CloudHeight" avg="15" range="10" />
            <Setting name="CloudThickness" avg="3" range="1" />
            <Replaces block="minecraft:stone" />
            <Replaces block="strata:gabbro" />
            <Replaces block="strata:basalt" />
          </CloudPreset>
        </ConfigSection>

        <!-- Marble -->
        <ConfigSection>
          <CloudPreset name="PresetMarble" inherits="PresetMetamorphicContinental">
            <OreBlock block="strata:skarn" weight="0.05" />
            <OreBlock block="strata:limestone" weight="0.05" />
            <OreBlock block="strata:marble" weight="0.9" />
          </CloudPreset>
        </ConfigSection>

        <!-- Hornfels -->
        <ConfigSection>
          <CloudPreset name="PresetHornfels" inherits="PresetMetamorphicContinental">
            <OreBlock block="strata:carbonatite" weight="0.10" />
            <OreBlock block="strata:hornfels" weight="0.9" />
          </CloudPreset>
        </ConfigSection>

        <!-- Quartzite -->
        <ConfigSection>
          <CloudPreset name="PresetQuartzite" block="strata:quartzite" inherits="PresetMetamorphicContinental" />
          <SubstitutePreset name="PresetQuartziteTops" block="strata:quartzite" inherits="PresetPrimarySedimentaryContinental" minHeight="153" maxHeight="255" />
          <SubstitutePreset name="PresetQuartziteTopsCobble" block="strata:quartzite_cobble" inherits="PresetQuartziteTops">
            <ReplacesOre block="cobblestone" />
          </SubstitutePreset>
          <SubstitutePreset name="PresetQuartziteMesa" block="strata:quartzite" inherits="PresetPrimarySedimentaryMesa" minHeight="64" maxHeight="66" />
          <SubstitutePreset name="PresetQuartziteMesaCobble" block="strata:quartzite_cobble" inherits="PresetQuartziteMesa">
            <ReplacesOre block="cobblestone" />
          </SubstitutePreset>
        </ConfigSection>

      </ConfigSection>

      <!-- Transitions -->
      <ConfigSection>
        <SubstitutePreset name="PresetGabbroDiorite" inherits="PresetPrimaryStratumVolcanic" minHeight="13" maxHeight="14">
          <OreBlock block="strata:diorite" weight="0.5" />
          <OreBlock block="strata:gabbro" weight="0.5" />
        </SubstitutePreset>
        <SubstitutePreset name="PresetDioriteGraniteContinental" inherits="PresetPrimaryStratumContinental" minHeight="19" maxHeight="20">
          <OreBlock block="strata:diorite" weight="0.5" />
          <OreBlock block="strata:granite" weight="0.5" />
        </SubstitutePreset>
        <SubstitutePreset name="PresetDioriteGraniteVolcanic" inherits="PresetPrimaryStratumVolcanic" minHeight="39" maxHeight="40">
          <OreBlock block="strata:diorite" weight="0.5" />
          <OreBlock block="strata:granite" weight="0.5" />
        </SubstitutePreset>
        <SubstitutePreset name="PresetGraniteAndesite" inherits="PresetPrimaryStratumVolcanic" minHeight="74" maxHeight="75">
          <OreBlock block="strata:andesite" weight="0.5" />
          <OreBlock block="strata:granite" weight="0.5" />
        </SubstitutePreset>
        <SubstitutePreset name="PresetAndesiteRhyolite" inherits="PresetPrimaryStratumVolcanic" minHeight="90" maxHeight="91">
          <OreBlock block="strata:andesite" weight="0.5" />
          <OreBlock block="strata:rhyolite" weight="0.5" />
        </SubstitutePreset>
        <SubstitutePreset name="PresetGabbroBasalt" inherits="PresetPrimaryStratumOceanic" minHeight="13" maxHeight="14">
          <OreBlock block="strata:basalt" weight="0.5" />
          <OreBlock block="strata:gabbro" weight="0.5" />
        </SubstitutePreset>
        <SubstitutePreset name="PresetGabbroBasaltShieldVolcano" inherits="PresetPrimaryStratumContinental" minHeight="38" maxHeight="39">
          <OreBlock block="strata:basalt" weight="0.5" />
          <OreBlock block="strata:gabbro" weight="0.5" />
          <BiomeSet inherits="shieldVolcano" />
        </SubstitutePreset>
        <SubstitutePreset name="PresetBasaltLimestone" inherits="PresetPrimaryStratumOceanic" minHeight="35" maxHeight="36">
          <OreBlock block="strata:basalt" weight="0.5" />
          <OreBlock block="strata:limestone" weight="0.5" />
        </SubstitutePreset>
        <SubstitutePreset name="PresetLimestoneBasaltIsland" inherits="PresetPrimaryStratumOceanic" minHeight="50" maxHeight="51">
          <OreBlock block="strata:basalt" weight="0.5" />
          <OreBlock block="strata:limestone" weight="0.5" />
          <BiomeSet inherits="oceanic" />
        </SubstitutePreset>
        <SubstitutePreset name="PresetGraniteMudstone" inherits="PresetPrimaryStratumContinental" minHeight="45" maxHeight="46">
          <OreBlock block="strata:granite" weight="0.5" />
          <OreBlock block="strata:mudstone" weight="0.5" />
        </SubstitutePreset>
        <SubstitutePreset name="PresetGraniteRhyolite" inherits="PresetPrimaryStratum" minHeight="45" maxHeight="46">
          <OreBlock block="strata:granite" weight="0.5" />
          <OreBlock block="strata:rhyolite" weight="0.5" />
          <BiomeSet inherits="caldera" />
        </SubstitutePreset>
        <SubstitutePreset name="PresetLimestoneMudstone" inherits="PresetPrimaryStratum" minHeight="45" maxHeight="46">
          <OreBlock block="strata:mudstone" weight="0.5" />
          <OreBlock block="strata:limestone" weight="0.5" />
          <BiomeSet inherits="folded" />
        </SubstitutePreset>
        <SubstitutePreset name="PresetMudstoneLimestone" inherits="PresetPrimarySedimentaryContinental" minHeight="75" maxHeight="76">
          <OreBlock block="strata:mudstone" weight="0.5" />
          <OreBlock block="strata:limestone" weight="0.5" />
        </SubstitutePreset>
        <SubstitutePreset name="PresetMudstoneGranite" inherits="PresetPrimaryStratum" minHeight="75" maxHeight="76">
          <OreBlock block="strata:mudstone" weight="0.5" />
          <OreBlock block="strata:granite" weight="0.5" />
          <BiomeSet inherits="dome" />
        </SubstitutePreset>
        <SubstitutePreset name="PresetLimestoneSandstone" inherits="PresetPrimarySedimentaryContinental" minHeight="111" maxHeight="112">
          <OreBlock block="strata:sandstone" weight="0.5" />
          <OreBlock block="strata:limestone" weight="0.5" />
        </SubstitutePreset>
        <SubstitutePreset name="PresetSandstoneGneiss" inherits="PresetPrimarySedimentaryContinental" minHeight="151" maxHeight="152">
          <OreBlock block="strata:sandstone" weight="0.5" />
          <OreBlock block="strata:gneiss" weight="0.5" />
          <Biome name="alps" />
        </SubstitutePreset>
        <SubstitutePreset name="PresetSandstoneQuartzite" inherits="PresetPrimarySedimentaryContinental" minHeight="151" maxHeight="152">
          <OreBlock block="strata:sandstone" weight="0.5" />
          <OreBlock block="strata:quartzite" weight="0.5" />
        </SubstitutePreset>
      </ConfigSection>

    </ConfigSection>

    <!-- Common rock -->
    <IfCondition condition=":=?StrataGenRocks">

      <Substitute name="DirtSubstitute" block="minecraft:stone" minHeight="0" maxHeight=":= 40/64 * dimension.groundLevel">
        <Replaces block="minecraft:dirt" />
      </Substitute>

      <Substitute name="DioriteContinental" inherits="PresetDioriteContinental" />
      <Substitute name="GraniteContinental" inherits="PresetGraniteContinental" />
      <Substitute name="DioriteGraniteContinental" inherits="PresetDioriteGraniteContinental" />
      <Substitute name="GabbroShieldVolcano" inherits="PresetGabbroShieldVolcano" />
      <Substitute name="GabbroBasaltShieldVolcano" inherits="PresetGabbroBasaltShieldVolcano" />
      <Substitute name="BasaltShieldVolcano" inherits="PresetBasaltShieldVolcano" />
      <Substitute name="GraniteMudstone" inherits="PresetGraniteMudstone" />
      <Substitute name="Mudstone" inherits="PresetMudstone" />
      <Substitute name="GraniteDome" inherits="PresetGraniteDome" />
      <Substitute name="GraniteShield" inherits="PresetGraniteShield" />
      <Substitute name="MudstoneGranite" inherits="PresetMudstoneGranite" />
      <Substitute name="MudstoneLimestone" inherits="PresetMudstoneLimestone" />
      <Substitute name="LimestoneHills" inherits="PresetLimestoneHills" />
      <Substitute name="LimestoneSandstone" inherits="PresetLimestoneSandstone" />
      <Substitute name="SandstoneHills" inherits="PresetSandstoneHills" />
      <Substitute name="SandstoneGneiss" inherits="PresetSandstoneGneiss" />
      <Substitute name="GneissTops" inherits="PresetGneissTops" />
      <Substitute name="SandstoneQuartzite" inherits="PresetSandstoneQuartzite" />
      <Substitute name="QuartziteTops" inherits="PresetQuartziteTops" />
      <Cloud name="Breccia" inherits="PresetBreccia" />
      <Cloud name="Claystone" inherits="PresetClaystone" />
      <Cloud name="Conglomerate" inherits="PresetConglomerate" />
      <Cloud name="Limestone" inherits="PresetLimestoneLower" />
      <Cloud name="Sandstone" inherits="PresetSandstone" />
      <Cloud name="Slate" inherits="PresetSlate" />
      <Cloud name="Schist" inherits="PresetSchist" />
      <Cloud name="Skarn" inherits="PresetSkarn" />
      <Cloud name="Gneiss" inherits="PresetGneiss" />
      <Cloud name="GreenschistContinental" inherits="PresetGreenschistContinental" />
      <Cloud name="Marble" inherits="PresetMarble" />
      <Cloud name="Hornfels" inherits="PresetHornfels" />
      <Cloud name="Quartzite" inherits="PresetQuartzite" />
      <Substitute name="GabbroVolcanic" inherits="PresetGabbroVolcanic" />
      <Substitute name="DioriteVolcanic" inherits="PresetDioriteVolcanic" />
      <Substitute name="GraniteRhyolite" inherits="PresetGraniteRhyolite" />
      <Substitute name="RhyoliteCaldera" inherits="PresetRhyoliteCaldera" />
      <Substitute name="GraniteVolcanic" inherits="PresetGraniteVolcanic" />
      <Substitute name="Andesite" inherits="PresetAndesite" />
      <Substitute name="Rhyolite" inherits="PresetRhyolite" />
      <Substitute name="GabbroDiorite" inherits="PresetGabbroDiorite" />
      <Substitute name="DioriteGraniteVolcanic" inherits="PresetDioriteGraniteVolcanic" />
      <Substitute name="GraniteAndesite" inherits="PresetGraniteAndesite" />
      <Substitute name="AndesiteRhyolite" inherits="PresetAndesiteRhyolite" />
      <Cloud name="GreenschistVolcanic" inherits="PresetGreenschistVolcanic" />
      <Cloud name="SchistVolcanic" inherits="PresetSchistVolcanic" />
      <Cloud name="GneissVolcanic" inherits="PresetGneissVolcanic" />
      <Cloud name="GneissShield" inherits="PresetGneissShield" />
      <Substitute name="QuartziteMesa" inherits="PresetQuartziteMesa" />
      <Substitute name="SandstoneMesa" inherits="PresetSandstoneMesa" />
      <Substitute name="LimestoneMesa" inherits="PresetLimestoneMesa" />
      <Substitute name="MudstoneMesa" inherits="PresetMudstoneMesa" />
      <Substitute name="SandstoneMesa2" inherits="PresetSandstoneMesa2" />
      <Substitute name="RedSandstoneMesa" inherits="PresetRedSandstoneMesa" />
      <Substitute name="BasaltMesa" inherits="PresetBasaltMesa" />
      <Substitute name="RedSandstoneMesaTop" inherits="PresetRedSandstoneMesaTop" />
      <Substitute name="GabbroOceanic" inherits="PresetGabbroOceanic" />
      <Substitute name="GabbroBasalt" inherits="PresetGabbroBasalt" />
      <Substitute name="Basalt" inherits="PresetBasalt" />
      <Substitute name="BasaltLimestone" inherits="PresetBasaltLimestone" />
      <Substitute name="LimestoneMudstone" inherits="PresetLimestoneMudstone" />
      <Substitute name="LimestoneOceanic" inherits="PresetLimestoneOceanic" />
      <Substitute name="LimestoneBasaltIsland" inherits="PresetLimestoneBasaltIsland" />
      <Substitute name="BasaltIsland" inherits="PresetBasaltIsland" />
      <Cloud name="MudstoneOceanic" inherits="PresetMudstoneOceanic" />
      <Cloud name="ClaystoneOceanic" inherits="PresetClaystoneOceanic" />
      <Cloud name="SandstoneOceanic" inherits="PresetSandstoneOceanic" />
      <Cloud name="GreenschistOceanic" inherits="PresetGreenschistOceanic" />
      <Cloud name="SchistOceanic" inherits="PresetSchistOceanic" />
      <Cloud name="SkarnOceanic" inherits="PresetSkarnOceanic" />
      <Veins name="DioriteVeins" inherits="PresetDioriteVeins" />
      <Veins name="GabbroVeins" inherits="PresetGabbroVeins" />

      <IfCondition condition=":= world.type = &quot;RWG&quot;">
        <Substitute name="GraniteVolcanicCobble" inherits="PresetGraniteVolcanicCobble" />
        <Substitute name="GraniteShieldCobble" inherits="PresetGraniteShieldCobble" />
        <Substitute name="GraniteDomeCobble" inherits="PresetGraniteDomeCobble" />
        <Substitute name="AndesiteCobble" inherits="PresetAndesiteCobble" />
        <Substitute name="BasaltShieldVolcanoCobble" inherits="PresetBasaltShieldVolcanoCobble" />
        <Substitute name="BasaltIslandCobble" inherits="PresetBasaltIslandCobble" />
        <Substitute name="BasaltMesaCobble" inherits="PresetBasaltMesaCobble" />
        <Substitute name="RhyoliteCobble" inherits="PresetRhyoliteCobble" />
        <Substitute name="RhyoliteCalderaCobble" inherits="PresetRhyoliteCalderaCobble" />
        <Substitute name="MudstoneCobble" inherits="PresetMudstoneCobble" />
        <Substitute name="MudstoneMesaCobble" inherits="PresetMudstoneMesaCobble" />
        <Substitute name="LimestoneHillsCobble" inherits="PresetLimestoneHillsCobble" />
        <Substitute name="LimestoneMesaCobble" inherits="PresetLimestoneMesaCobble" />
        <Substitute name="SandstoneMesaCobble2" inherits="PresetSandstoneMesaCobble2" />
        <Substitute name="SandstoneHillsCobble" inherits="PresetSandstoneHillsCobble" />
        <Substitute name="SandstoneMesaCobble" inherits="PresetSandstoneMesaCobble" />
        <Substitute name="RedSandstoneMesaCobble" inherits="PresetRedSandstoneMesaCobble" />
        <Substitute name="RedSandstoneMesaTopCobble" inherits="PresetRedSandstoneMesaTopCobble" />
        <Substitute name="GneissTopsCobble" inherits="PresetGneissTopsCobble" />
        <Substitute name="QuartziteTopsCobble" inherits="PresetQuartziteTopsCobble" />
        <Substitute name="QuartziteMesaCobble" inherits="PresetQuartziteMesaCobble" />
      </IfCondition>

      <Substitute name="CragToMudstone" block="strata:mudstone">
        <Replaces block="BiomesOPlenty:cragRock" />
        <Biome name="crag" />
      </Substitute>

    </IfCondition>

    <!-- Common ore presets -->
    <ConfigSection>

      <VeinsPreset name="PresetLayeredVeinsLite" inherits="PresetLayeredVeins">
        <Setting name="OreDensity" avg=":= 0.4 * _default_" range="0.2" />
        <Setting name="BranchLength" avg=":= 0.5 * _default_" range=":= 0.5 * _default_" />
        <Setting name="MotherlodeSize" avg=":= 0.5 * _default_" />
      </VeinsPreset>
      <VeinsPreset name="PresetLayeredVeinsContinental" inherits="PresetLayeredVeinsLite">
        <BiomeSet inherits="continental" />
        <BiomeSet inherits="folded" weight="-1" />
      </VeinsPreset>
      <VeinsPreset name="PresetLayeredVeinsVolcanic" inherits="PresetLayeredVeinsLite">
        <BiomeSet inherits="felsic" />
      </VeinsPreset>
      <VeinsPreset name="PresetLayeredVeinsOceanic" inherits="PresetLayeredVeinsLite">
        <BiomeSet inherits="oceanic" />
        <BiomeSet inherits="folded" />
      </VeinsPreset>

      <CloudPreset name="PresetSedStrategicCloud" inherits="PresetStrategicCloud">
        <Setting name="CloudThickness" avg=":=0.5 * _default_" range=":=0.5 * _default_" />
        <Setting name="CloudHeight" avg=":=55/64 * dimension.groundLevel" range=":=10/64 * dimension.groundLevel" type="normal" />
        <Setting name="OreVolumeNoiseCutoff" avg=":=0.6 * _default_" />
        <Replaces block="minecraft:stone" />
        <Replaces block="minecraft:sandstone" />
        <Replaces block="strata:breccia" />
        <Replaces block="strata:carbonatite" />
        <Replaces block="strata:conglomerate" />
        <Replaces block="strata:mudstone" />
        <Replaces block="strata:sandstone" />
        <Replaces block="strata:red_sandstone" />
        <Replaces block="strata:limestone" />
        <BiomeSet inherits="continental" />
      </CloudPreset>
      <CloudPreset name="PresetSedStrategicCloudOceanic" inherits="PresetSedStrategicCloud">
        <Setting name="CloudHeight" avg=":=40/64 * dimension.groundLevel" range=":=5/64 * dimension.groundLevel" type="normal" />
        <BiomeSet inherits="sedocean" />
      </CloudPreset>

      <VeinsPreset name="PresetHintVeinsSed" inherits="PresetHintVeins">
        <Setting name="MotherlodeHeight" avg=":=55/64 * dimension.groundLevel" />
        <Replaces block="minecraft:stone" />
        <Replaces block="strata:breccia" />
        <Replaces block="strata:carbonatite" />
        <Replaces block="strata:conglomerate" />
        <Replaces block="strata:mudstone" />
        <Replaces block="strata:limestone" />
        <Replaces block="strata:sandstone" />
        <Replaces block="strata:red_sandstone" />
        <Replaces block="minecraft:sandstone" />
      </VeinsPreset>

      <CloudPreset name="PresetMetaStrategicCloud" inherits="PresetStrategicCloud">
        <Setting name="CloudThickness" avg=":=0.5 * _default_" range=":=0.5 * _default_" />
        <Setting name="CloudHeight" avg=":=40/64 * dimension.groundLevel" range=":=5/64 * dimension.groundLevel" type="normal" />
        <Setting name="OreVolumeNoiseCutoff" avg=":=0.6 * _default_" />
        <ReplacesOre block="stone" />
      </CloudPreset>

      <CloudPreset name="PresetLayeredIntrusionOre" inherits="PresetStrategicCloud">
        <Setting name="ParentRangeLimit" avg="16" range="2" />
        <Setting name="DistributionFrequency" avg=":= 0.25" />
        <Setting name="CloudThickness" avg=":= 0.25 * _default_" range=":= 0.25 * _default_" />
        <Setting name="CloudRadius" avg="16" range="3" />
        <Setting name="OreDensity" avg=":=1.5 * _default_" />
      </CloudPreset>

    </ConfigSection>

    <!-- Specific ore presets -->
    <ConfigSection>

      <VeinsPreset name="PresetSphaleriteGalena" inherits="PresetLayeredVeinsLite">
        <IfCondition condition=":=?StrataCustomOreOverride &amp; ?StrataGenZinc">
          <OreBlock block="strata:sphalerite_ore" weight="0.62" />
        </IfCondition>
        <IfCondition condition=":=?StrataCustomOreOverride &amp; ?StrataGenLead">
          <OreBlock block="strata:galena_ore" weight="0.33" />
        </IfCondition>
        <IfCondition condition=":=?StrataCustomOreOverride &amp; ?StrataGenPyrite">
          <OreBlock block="strata:pyrite_ore" weight="0.05" />
        </IfCondition>
      </VeinsPreset>

    </ConfigSection>

    <!-- Coal -->
    <IfCondition condition=":=?StrataVanillaOreOverride &amp; ?StrataGenCoal">

      <CloudPreset name="PresetCoalBeds" inherits="PresetSedStrategicCloud" drawWireframe="true">
        <Setting name="DistributionFrequency" avg=":=20 * _default_" />
        <Setting name="CloudRadius" avg=":=1.4 * _default_" range=":=1.4 * _default_" />
        <OreBlock block="strata:bituminous_coal_ore" weight="0.78" />
        <OreBlock block="strata:lignite_ore" weight="0.1" />
        <OreBlock block="strata:anthracite_ore" weight="0.1" />
        <IfCondition condition=":=?StrataCustomOreOverride &amp; ?StrataGenPyrite">
          <OreBlock block="strata:pyrite_ore" weight="0.02" />
        </IfCondition>
        <BiomeSet inherits="inland" weight="0.5" />
      </CloudPreset>
      <CloudPreset name="PresetLigniteBeds" inherits="PresetCoalBeds" drawWireframe="true">
        <OreBlock block="strata:lignite_ore" weight="0.8" />
        <OreBlock block="strata:bituminous_coal_ore" weight="0.2" />
        <BiomeType name="swamp" />
      </CloudPreset>
      <CloudPreset name="PresetCoalBedsOceanic" inherits="PresetCoalBeds" drawWireframe="true">
        <Setting name="CloudHeight" avg=":=40/64 * dimension.groundLevel" range=":=5/64 * dimension.groundLevel" type="normal" />
        <BiomeSet inherits="sedocean" weight="0.5" />
      </CloudPreset>

      <VeinsPreset name="PresetCoalBedHintVeins" block="strata:bituminous_coal_ore" inherits="PresetHintVeinsSed">
        <Setting name="MotherlodeFrequency" avg=":=1.2 * _default_" range=":=_default_" />
      </VeinsPreset>
      <VeinsPreset name="PresetLigniteBedHintVeins" inherits="PresetCoalBedHintVeins" block="strata:lignite_ore" />
      <VeinsPreset name="PresetCoalBedHintVeinsOceanic" inherits="PresetCoalBedHintVeins">
        <Setting name="MotherlodeHeight" avg=":=40/64 * dimension.groundLevel" range=":=5/64 * dimension.groundLevel" type="normal" />
        <BiomeSet inherits="sedocean" weight="0.5" />
      </VeinsPreset>

      <SubstitutePreset name="PresetCoalCoke" inherits="PresetPrimaryStratum" minHeight="45" maxHeight="45" block="strata:coke_ore">
        <BiomeSet inherits="inland" />
        <Replaces block="strata:bituminous_coal_ore" />
      </SubstitutePreset>

      <Cloud name="CoalBeds" inherits="PresetCoalBeds">
        <Veins name="CoalBedHintVeins" inherits="PresetCoalBedHintVeins" />
      </Cloud>
      <Substitute name="CoalCoke" inherits="PresetCoalCoke" />
      <Cloud name="CoalBedsOceanic" inherits="PresetCoalBedsOceanic">
        <Veins name="CoalBedHintVeinsOceanic" inherits="PresetCoalBedHintVeinsOceanic" />
      </Cloud>
      <Cloud name="LigniteBeds" inherits="PresetLigniteBeds">
        <Veins name="LigniteBedHintVeins" inherits="PresetLigniteBedHintVeins" />
      </Cloud>

    </IfCondition>

    <!-- Banded iron -->
    <IfCondition condition=":=?StrataGenBIF &amp; ?StrataGenIron">

      <CloudPreset name="PresetBandedIron" inherits="PresetSedStrategicCloud" drawWireframe="true">
        <WireframeColor>0xFF221100</WireframeColor>
        <Setting name="DistributionFrequency" avg=":= 20 * _default_" />
        <Setting name="OreDensity" avg=":=_default_" />
        <OreBlock block="strata:banded_iron_ore" />
        <BiomeSet inherits="inland" weight="0.5" />
        <BiomeSet inherits="folded" weight="0.5" />
        <BiomeSet inherits="frozen-continental" weight="0.5" />
      </CloudPreset>
      <CloudPreset name="PresetBandedIronOceanic" inherits="PresetBandedIron" drawWireframe="true">
        <Setting name="CloudHeight" avg=":=40/64 * dimension.groundLevel" range=":=5/64 * dimension.groundLevel" type="normal" />
        <BiomeSet inherits="sedocean" />
        <Replaces block="minecraft:stone" />
        <Replaces block="strata:limestone" />
        <Replaces block="strata:basalt" />
      </CloudPreset>

      <VeinsPreset name="PresetBandedIronHintVeins" block="strata:banded_iron_ore" inherits="PresetHintVeinsSed">
        <Setting name="MotherlodeFrequency" avg=":=_default_" range=":=_default_" />
      </VeinsPreset>
      <VeinsPreset name="PresetBandedIronHintVeinsOceanic" inherits="PresetBandedIronHintVeins">
        <Replaces block="minecraft:stone" />
        <Replaces block="strata:limestone" />
        <Replaces block="strata:basalt" />
        <Setting name="MotherlodeHeight" avg=":=40/64 * dimension.groundLevel" range=":=5/64 * dimension.groundLevel" type="uniform" />
      </VeinsPreset>

      <VeinsPreset name="PresetSubBIFBreccia" inherits="PresetRockVeins" drawWireframe="true" wireframeColor="0xFFFFFF00">
        <Setting name="MotherlodeFrequency" avg="0.2" />
        <Setting name="MotherlodeHeight" avg="35" range="2" />
        <Setting name="BranchLength" avg=":= 0.5 * _default_" range=":= 0.5 * _default_" />
        <Replaces block="minecraft:stone" />
        <Replaces block="strata:granite" />
        <Replaces block="strata:carbonatite" />
        <Replaces block="strata:conglomerate" />
        <Replaces block="strata:mudstone" />
        <Replaces block="strata:sandstone" />
        <OreBlock block="strata:breccia" weight="0.88" />
        <IfCondition condition=":=?StrataCustomOreOverride &amp; ?StrataGenCopper">
          <OreBlock block="strata:chalcopyrite_ore" weight="0.10" />
        </IfCondition>
        <IfCondition condition=":=?StrataCustomOreOverride &amp; ?StrataGenGold">
          <OreBlock block="strata:gold_ore" weight="0.02" />
        </IfCondition>
      </VeinsPreset>
      <VeinsPreset name="PresetSubBIFBrecciaOceanic" inherits="PresetSubBIFBreccia">
        <Replaces block="minecraft:stone" />
        <Replaces block="strata:basalt" />
        <Replaces block="strata:mudstone" />
        <Setting name="MotherlodeHeight" avg=":=30/64 * dimension.groundLevel" range=":=5/64 * dimension.groundLevel" />
      </VeinsPreset>

      <Cloud name="BandedIron" inherits="PresetBandedIron">
        <Veins name="BandedIronHintVeins" inherits="PresetBandedIronHintVeins" />
        <Veins name="SubBIFBreccia" inherits="PresetSubBIFBreccia" />
      </Cloud>
      <Cloud name="BandedIronOceanic" inherits="PresetBandedIronOceanic">
        <Veins name="BandedIronHintVeinsOceanic" inherits="PresetBandedIronHintVeinsOceanic" />
        <Veins name="SubBIFBrecciaOceanic" inherits="PresetSubBIFBrecciaOceanic" />
      </Cloud>

    </IfCondition>

    <!-- Mineral sands -->
    <ConfigSection>

      <CloudPreset name="PresetBeachPlacer" inherits="PresetPlacer">
        <BiomeType name="beach" weight="0.5" />
        <Setting name="CloudRadius" avg="5" range="2" type="normal" />
      </CloudPreset>
      <CloudPreset name="PresetBasalticSandBeach" inherits="PresetBeachPlacer" block="strata:basaltic_mineral_sand" />
      <CloudPreset name="PresetCassiteriteSandBeach" inherits="PresetBeachPlacer" block="strata:cassiterite_sand" />
      <CloudPreset name="PresetGarnetSandBeach" inherits="PresetBeachPlacer" block="strata:garnet_sand" />
      <CloudPreset name="PresetGraniticSandBeach" inherits="PresetBeachPlacer" block="strata:granitic_mineral_sand" />

      <CloudPreset name="PresetAlluvialPlacer" inherits="PresetPlacer">
        <BiomeType name="river" />
        <Setting name="CloudThickness" avg="1" range="0" />
        <Setting name="DistributionFrequency" avg=":= 2 * _default_" range="0" />
        <Setting name="CloudRadius" avg="8" range="2" type="normal" />
      </CloudPreset>
      <CloudPreset name="PresetCassiteriteSandAlluvial" inherits="PresetAlluvialPlacer" block="strata:cassiterite_sand" />
      <CloudPreset name="PresetGarnetSandAlluvial" inherits="PresetAlluvialPlacer" block="strata:garnet_sand" />
      <CloudPreset name="PresetGraniticSandAlluvial" inherits="PresetAlluvialPlacer" block="strata:granitic_mineral_sand" />

      <CloudPreset name="PresetQuartzSand" inherits="PresetPlacer" block="strata:quartz_sand" drawWireframe="true">
        <Setting name="DistributionFrequency" avg=":=_default_" />
        <Setting name="CloudRadius" avg="5" range="2" type="normal" />
        <BiomeType name="sandy" />
        <BiomeType name="mesa" weight="-1" />
        <Setting name="CloudHeight" avg="62" range="2" type="uniform" scaleTo="position" />
      </CloudPreset>

      <CloudPreset name="PresetGlauconite" inherits="PresetSedStrategicCloud" drawWireframe="true">
        <Setting name="DistributionFrequency" avg=":= 6 * _default_" />
        <Setting name="OreDensity" avg=":=1.5 * _default_" />
        <Setting name="CloudHeight" avg=":= 48/64 * dimension.groundLevel" range=":= 0.25 * _default_" />
        <BiomeSet inherits="sedocean" />
        <Replaces block="minecraft:sand" />
        <Replaces block="minecraft:clay" />
        <Replaces block="minecraft:dirt" />
        <ReplacesOre block="stone" />
        <OreBlock block="strata:glauconite" weight="0.8" />
        <OreBlock block="minecraft:sand" weight="0.2" />
      </CloudPreset>

      <StandardGenPreset name="PresetVolcanicAsh" block="strata:volcanic_ash" maxHeight="75">
        <Setting name="Size" avg="16" range="8" />
        <Setting name="Frequency" avg="0.2" range="0" />
        <Setting name="Height" avg=":=70/64 * dimension.groundLevel" range="20" />
        <BiomeSet inherits="volcanic" />
        <!-- BOP -->
        <Biome name="badlands" weight="0.5" />
        <Replaces block="minecraft:stone" />
        <Replaces block="strata:andesite" />
        <Replaces block="strata:rhyolite" />
        <Replaces block="minecraft:dirt" />
        <Replaces block="minecraft:sand" />
        <Replaces block="minecraft:clay" />
      </StandardGenPreset>

      <IfCondition condition=":=?StrataGenSandOres">
        <Cloud name="GarnetSandBeach" inherits="PresetGarnetSandBeach" drawWireframe="false" wireframeColor="0xFF222222" />
        <Cloud name="GarnetSandAlluvial" inherits="PresetGarnetSandAlluvial" drawWireframe="false" wireframeColor="0xFF222222" />
        <Cloud name="Glauconite" inherits="PresetGlauconite" />
        <IfCondition condition=":=?StrataVanillaOreOverride &amp; ?StrataGenIron">
          <Cloud name="BasalticSandBeach" inherits="PresetBasalticSandBeach" drawWireframe="false" wireframeColor="0xFFFF2222" />
          <Cloud name="GraniticSandBeach" inherits="PresetGraniticSandBeach" drawWireframe="false" wireframeColor="0xFFFFFF22" />
          <Cloud name="GraniticSandAlluvial" inherits="PresetGraniticSandAlluvial" drawWireframe="true" wireframeColor="0xFFFFFF22" />
        </IfCondition>
        <IfCondition condition=":=?StrataCustomOreOverride &amp; ?StrataGenTin">
          <Cloud name="CassiteriteSandBeach" inherits="PresetCassiteriteSandBeach" drawWireframe="false" wireframeColor="0xFFFF2222" />
          <Cloud name="CassiteriteSandAlluvial" inherits="PresetCassiteriteSandAlluvial" drawWireframe="false" wireframeColor="0xFFFF2222" />
        </IfCondition>
        <IfCondition condition=":=?StrataCustomOreOverride &amp; ?StrataGenQuartz">
          <Cloud name="QuartzSand" inherits="PresetQuartzSand" drawWireframe="false" wireframeColor="0xFFFF9922" />
        </IfCondition>
      </IfCondition>
      <IfCondition condition=":=?StrataGenVolcanic">
        <StandardGen name="VolcanicAsh" inherits="PresetVolcanicAsh" drawWireframe="false" wireframeColor="0xFF999922" />
      </IfCondition>

    </ConfigSection>

    <!-- Serpentine and other intrusive veins -->
    <IfCondition condition=":=?StrataGenSerpVeins">

      <VeinsPreset name="PresetSerpentinite" inherits="PresetIntrusiveVeins" drawWireframe="true" wireframeColor="0xFF00AA00">
        <OreBlock block="strata:serpentinite" weight="0.816" />
        <IfCondition condition=":=?StrataCustomOreOverride &amp; ?StrataGenMagnesium">
          <OreBlock block="strata:magnesite_ore" weight="0.01" />
        </IfCondition>
        <IfCondition condition=":=?StrataCustomOreOverride &amp; ?StrataGenChromium">
          <OreBlock block="strata:chromite_ore" weight="0.01" />
        </IfCondition>
        <OreBlock block="strata:peridotite" weight="0.05" />
        <IfCondition condition=":=?StrataCustomOreOverride &amp; ?StrataGenNickel">
          <OreBlock block="strata:pentlandite" weight="0.005" />
        </IfCondition>
        <OreBlock block="strata:soapstone" weight="0.10" />
        <IfCondition condition=":=?StrataCustomOreOverride &amp; ?StrataGenAsbestos">
          <OreBlock block="strata:chrysotile_ore" weight="0.009" />
        </IfCondition>
      </VeinsPreset>

      <Veins name="Serpentinite" inherits="PresetSerpentinite" />

    </IfCondition>

    <!-- Laterite, limonite -->
    <IfCondition condition=":=?StrataGenLaterites">

      <CloudPreset name="PresetRichSoil" inherits="PresetStratum">
        <Setting name="DistributionFrequency" avg="0.01" />
        <Setting name="CloudThickness" avg="2" range="1" />
        <Setting name="CloudHeight" avg=":= 60/64 * dimension.groundLevel" range="2" />
        <Replaces block="minecraft:stone" />
        <Replaces block="strata:breccia" />
        <Replaces block="strata:carbonatite" />
        <Replaces block="strata:conglomerate" />
        <Replaces block="strata:mudstone" />
        <Replaces block="strata:limestone" />
        <Replaces block="strata:sandstone" />
        <Replaces block="minecraft:dirt" />
        <Replaces block="minecraft:clay" />
      </CloudPreset>
      <CloudPreset name="PresetPeat" block="strata:peat" inherits="PresetRichSoil" drawWireframe="true">
        <WireframeColor>0xFFFF1100</WireframeColor>
      </CloudPreset>
      <CloudPreset name="PresetBogLimonite" inherits="PresetRichSoil" drawWireframe="true">
        <WireframeColor>0xFF1111FF</WireframeColor>
        <OreBlock block="strata:peat" weight="0.70" />
        <IfCondition condition=":=?StrataCustomOreOverride &amp; ?StrataGenIron">
          <OreBlock block="strata:bog_iron_ore" weight="0.30" />
        </IfCondition>
        <Setting name="DistributionFrequency" avg=":= 0.5 * _default_" />
        <BiomeType name="swamp" />
      </CloudPreset>
      <CloudPreset name="PresetLaterite" block="strata:laterite" inherits="PresetRichSoil" drawWireframe="true">
        <WireframeColor>0xFFFF1100</WireframeColor>
        <Biome name=".*" weight="-1" />
        <BiomeType name="hot" />
        <BiomeType name="wet" />
      </CloudPreset>
      <CloudPreset name="PresetLateriteBauxite" inherits="PresetLaterite">
        <WireframeColor>0xFFFF11FF</WireframeColor>
        <Setting name="DistributionFrequency" avg="0.02" />
        <OreBlock block="strata:laterite" weight="0.5" />
        <IfCondition condition=":=?StrataCustomOreOverride &amp; ?StrataGenAluminum">
          <OreBlock block="strata:bauxite_ore" weight="0.5" />
        </IfCondition>
      </CloudPreset>
      <CloudPreset name="PresetLateriteLimonite" inherits="PresetLaterite">
        <WireframeColor>0xFF1111FF</WireframeColor>
        <Setting name="DistributionFrequency" avg="0.01" />
        <OreBlock block="strata:laterite" weight="0.70" />
        <IfCondition condition=":=?StrataVanillaOreOverride &amp; ?StrataGenIron">
          <OreBlock block="strata:brown_limonite_ore" weight="0.15" />
          <OreBlock block="strata:yellow_limonite_ore" weight="0.15" />
        </IfCondition>
      </CloudPreset>

      <CloudPreset name="PresetSerpentiniteUnderLimonite" inherits="PresetStratum" drawWireframe="true" wireframeColor="0xFF00AA00">
        <Setting name="DistributionFrequency" avg="2.5" />
        <Setting name="CloudHeight" avg="53" range="2" />
        <Setting name="CloudThickness" avg="3" range="1" />
        <Setting name="ParentRangeLimit" avg="5" range="2" />
        <Replaces block="minecraft:stone" />
        <Replaces block="strata:breccia" />
        <Replaces block="strata:carbonatite" />
        <Replaces block="strata:conglomerate" />
        <Replaces block="strata:mudstone" />
        <OreBlock block="strata:serpentinite" weight="0.5" />
        <IfCondition condition=":=?StrataVanillaOreOverride &amp; ?StrataGenNickel">
          <OreBlock block="strata:garnierite_ore" weight="0.5" />
        </IfCondition>
      </CloudPreset>

      <Cloud name="Peat" inherits="PresetPeat" />
      <Cloud name="Laterite" inherits="PresetLaterite" />
      <Cloud name="LateriteBauxite" inherits="PresetLateriteBauxite" />
      <Cloud name="BogLimonite" inherits="PresetBogLimonite" />
      <Cloud name="LateriteLimonite" inherits="PresetLateriteLimonite">
        <Cloud name="SerpentiniteUnderLimonite" inherits="PresetSerpentiniteUnderLimonite" />
      </Cloud>

    </IfCondition>

    <!-- Veins in diorite/gabbro -->
    <IfCondition condition=":=?StrataGenIgVeins">

      <VeinsPreset name="PresetDioriteVeinsContinental" inherits="PresetLayeredVeinsContinental">
        <Setting name="DistributionFrequency" avg="0.01" />
        <Setting name="MotherlodeHeight" avg=":= 10/64 * dimension.groundLevel" range=":= 3/64 * dimension.groundLevel" />
        <Replaces block="minecraft:stone" />
        <Replaces block="strata:diorite" />
        <Replaces block="strata:gabbro" />
      </VeinsPreset>
      <VeinsPreset name="PresetIlmeniteDioriteContinental" inherits="PresetDioriteVeinsContinental" block="strata:ilmenite_ore" drawWireframe="true" wireframeColor="0xFF1111FF" />
      <VeinsPreset name="PresetChromiteDioriteContinental" inherits="PresetDioriteVeinsContinental" block="strata:chromite_ore" drawWireframe="true" wireframeColor="0xFFFFFF11" />
      <VeinsPreset name="PresetVermiculiteDioriteContinental" inherits="PresetDioriteVeinsContinental" block="strata:vermiculite" drawWireframe="true" wireframeColor="0xFFFF1111" />
      <VeinsPreset name="PresetFluoriteDioriteContinental" inherits="PresetDioriteVeinsContinental" block="strata:fluorite_ore" drawWireframe="true" wireframeColor="0xFF11FF11" />

      <VeinsPreset name="PresetDioriteVeinsOther" inherits="PresetLayeredVeins">
        <Setting name="DistributionFrequency" avg="0.02" />
        <Setting name="MotherlodeHeight" avg=":= 20/64 * dimension.groundLevel" range=":= 20/64 * dimension.groundLevel" type="normal" />
        <Replaces block="minecraft:stone" />
        <Replaces block="strata:diorite" />
        <Replaces block="strata:gabbro" />
        <Replaces block="strata:basalt" />
        <BiomeSet inherits="oceanic" />
        <BiomeSet inherits="volcanic" />
      </VeinsPreset>
      <VeinsPreset name="PresetIlmeniteDioriteOther" inherits="PresetDioriteVeinsOther" block="strata:ilmenite_ore" drawWireframe="true" wireframeColor="0xFF11FFFF" />
      <VeinsPreset name="PresetChromiteDioriteOther" inherits="PresetDioriteVeinsOther" block="strata:chromite_ore" drawWireframe="true" wireframeColor="0xFFFFFF11" />
      <VeinsPreset name="PresetVermiculiteDioriteOther" inherits="PresetDioriteVeinsOther" block="strata:vermiculite" drawWireframe="true" wireframeColor="0xFFFFFF11" />
      <VeinsPreset name="PresetFluoriteDioriteOther" inherits="PresetDioriteVeinsOther" block="strata:fluorite_ore" drawWireframe="true" wireframeColor="0xFF88FF88" />

      <IfCondition condition=":=?StrataCustomOreOverride &amp; ?StrataGenTitanium">
        <Veins name="IlmeniteDioriteContinental" inherits="PresetIlmeniteDioriteContinental" />
      </IfCondition>
      <IfCondition condition=":=?StrataCustomOreOverride &amp; ?StrataGenChromium">
        <Veins name="ChromiteDioriteContinental" inherits="PresetChromiteDioriteContinental" />
      </IfCondition>
      <Veins name="VermiculiteDioriteContinental" inherits="PresetVermiculiteDioriteContinental" />
      <IfCondition condition=":=?StrataCustomOreOverride &amp; ?StrataGenFluorite">
        <Veins name="FluoriteDioriteContinental" inherits="PresetFluoriteDioriteContinental" />
      </IfCondition>
      <IfCondition condition=":=?StrataCustomOreOverride &amp; ?StrataGenTitanium">
        <Veins name="IlmeniteDioriteOther" inherits="PresetIlmeniteDioriteOther" />
      </IfCondition>
      <IfCondition condition=":=?StrataCustomOreOverride &amp; ?StrataGenChromium">
        <Veins name="ChromiteDioriteOther" inherits="PresetChromiteDioriteOther" />
      </IfCondition>
      <Veins name="VermiculiteDioriteOther" inherits="PresetVermiculiteDioriteOther" />
      <IfCondition condition=":=?StrataCustomOreOverride &amp; ?StrataGenFluorite">
        <Veins name="FluoriteDioriteOther" inherits="PresetFluoriteDioriteOther" />
      </IfCondition>

    </IfCondition>

    <!-- Layered intrusions -->
    <IfCondition condition=":=?StrataGenIgIntrusion">

      <CloudPreset name="PresetLayeredIntrusion" inherits="PresetStratum">
        <Setting name="CloudThickness" avg="5" range="0" />
        <Setting name="CloudRadius" avg="32" range="5" />
        <Setting name="CloudHeight" range="0" />
        <Setting name="ParentRangeLimit" avg="3" range="2" />
        <Replaces block="minecraft:stone" />
        <Replaces block="strata:diorite" />
        <Replaces block="strata:gabbro" />
        <Replaces block="strata:peridotite" />
        <Replaces block="strata:granite" />
        <WireframeColor>0xFFFFFF00</WireframeColor>
      </CloudPreset>
      <CloudPreset name="PresetPeridotiteIntrusion" block="strata:peridotite" inherits="PresetLayeredIntrusion" drawWireframe="false">
        <Setting name="CloudHeight" avg="10" range="0" />
        <Setting name="DistributionFrequency" avg="0.01" />
        <Biome name=".*" weight="0.5" />
        <BiomeSet inherits="volcanic" weight="0.5" />
      </CloudPreset>
      <CloudPreset name="PresetGabbroIntrusion" block="strata:gabbro" inherits="PresetLayeredIntrusion">
        <Setting name="CloudHeight" avg="20" range="0" />
        <Setting name="DistributionFrequency" avg="20" range="0" />
      </CloudPreset>
      <CloudPreset name="PresetDioriteIntrusion" block="strata:diorite" inherits="PresetLayeredIntrusion">
        <Setting name="CloudHeight" avg="30" range="0" />
        <Setting name="DistributionFrequency" avg="20" range="0" />
      </CloudPreset>

      <CloudPreset name="PresetPeridotiteLayer" inherits="PresetLayeredIntrusionOre">
        <Setting name="CloudHeight" avg=":= 10/64 * dimension.groundLevel" range=":= 5/64 * dimension.groundLevel" type="uniform" />
        <Replaces block="strata:gabbro" />
        <Replaces block="strata:peridotite" />
      </CloudPreset>
      <CloudPreset name="PresetMagnetitePeridotite" inherits="PresetPeridotiteLayer" drawWireframe="true">
        <WireframeColor>0xFFAAFFFF</WireframeColor>
        <IfCondition condition=":=?StrataCustomOreOverride &amp; ?StrataGenIron">
          <OreBlock block="strata:magnetite_ore" weight="0.5" />
        </IfCondition>
        <IfCondition condition=":=?StrataCustomOreOverride &amp; ?StrataGenVanadium">
          <OreBlock block="strata:vanadium_magnetite_ore" weight="0.5" />
        </IfCondition>
      </CloudPreset>
      <CloudPreset name="PresetMagnesitePeridotite" inherits="PresetPeridotiteLayer" drawWireframe="true" wireframeColor="0xFF11FFFF" block="strata:magnesite_ore" />
      <CloudPreset name="PresetPentlanditePeridotite" inherits="PresetPeridotiteLayer" block="strata:pentlandite_ore" drawWireframe="true" wireframeColor="0xFF11FFFF">
        <Setting name="OreDensity" avg=":=0.75 * _default_" />
      </CloudPreset>

      <CloudPreset name="PresetDioriteLayer" inherits="PresetLayeredIntrusionOre">
        <Setting name="CloudHeight" avg=":= 30/64 * dimension.groundLevel" range=":= 10/64 * dimension.groundLevel" />
        <Replaces block="strata:diorite" />
        <Replaces block="strata:gabbro" />
      </CloudPreset>
      <CloudPreset name="PresetIlmeniteDioriteLayer" inherits="PresetDioriteLayer" block="strata:ilmenite_ore" drawWireframe="true" wireframeColor="0xFF1111FF" />
      <CloudPreset name="PresetChromiteDioriteLayer" inherits="PresetDioriteLayer" block="strata:chromite_ore" drawWireframe="true" wireframeColor="0xFFFF1111" />
      <CloudPreset name="PresetVermiculiteDiorite" inherits="PresetDioriteLayer" drawWireframe="true" wireframeColor="0xFFFFFFFF" block="strata:vermiculite" />

      <VeinsPreset name="PresetPeridotiteSerpentinite" inherits="PresetSerpentinite" drawWireframe="false" wireframeColor="0xFF00FF00">
        <Setting name="MotherlodeHeight" avg=":= 10/64 * dimension.groundLevel" range=":= 2/64 * dimension.groundLevel" />
        <Setting name="ParentRangeLimit" avg="16" range="8" />
        <Setting name="DistributionFrequency" avg=":= 20.0 * _default_" />
      </VeinsPreset>

      <Cloud name="PeridotiteIntrusion" inherits="PresetPeridotiteIntrusion">
        <Cloud name="GabbroIntrusion" inherits="PresetGabbroIntrusion" />
        <Cloud name="DioriteIntrusion" inherits="PresetDioriteIntrusion" />
        <IfCondition condition=":=?StrataCustomOreOverride &amp; ?StrataGenIron">
          <Cloud name="MagnetitePeridotite" inherits="PresetMagnetitePeridotite" />
        </IfCondition>
        <IfCondition condition=":=?StrataCustomOreOverride &amp; ?StrataGenMagnesium">
          <Cloud name="MagnesitePeridotite" inherits="PresetMagnesitePeridotite" />
        </IfCondition>
        <IfCondition condition=":=?StrataCustomOreOverride &amp; ?StrataGenNickel">
          <Cloud name="PentlanditePeridotite" inherits="PresetPentlanditePeridotite" />
        </IfCondition>
        <IfCondition condition=":=?StrataGenSerpVeins">
          <Veins name="PeridotiteSerpentinite" inherits="PresetPeridotiteSerpentinite" />
        </IfCondition>
        <IfCondition condition=":=?StrataCustomOreOverride &amp; ?StrataGenTitanium">
          <Cloud name="IlmeniteDioriteLayer" inherits="PresetIlmeniteDioriteLayer" />
        </IfCondition>
        <IfCondition condition=":=?StrataCustomOreOverride &amp; ?StrataGenChromium">
          <Cloud name="ChromiteDioriteLayer" inherits="PresetChromiteDioriteLayer" />
        </IfCondition>
        <Cloud name="VermiculiteDiorite" inherits="PresetVermiculiteDiorite" />
      </Cloud>

    </IfCondition>

    <!-- Marine evaporites -->
    <IfCondition condition=":=?StrataGenEvaporite">

      <CloudPreset name="PresetEvaporiteStratum" inherits="PresetStratum" drawWireframe="true">
        <Setting name="CloudHeight" range="0" />
        <Setting name="CloudThickness" range="0" />
        <Setting name="ParentRangeLimit" avg="3" range="2" />
        <Setting name="DistributionFrequency" avg="20" range="0" />
        <BiomeType name="sandy" />
        <BiomeType name="plains" />
        <BiomeType name="wasteland" />
        <BiomeType name="wet" weight="-1" />
        <Replaces block="minecraft:stone" />
        <Replaces block="minecraft:sandstone" />
        <Replaces block="minecraft:hardened_clay" />
        <Replaces block="minecraft:sand" />
        <Replaces block="strata:breccia" />
        <Replaces block="strata:carbonatite" />
        <Replaces block="strata:conglomerate" />
        <Replaces block="strata:mudstone" />
        <Replaces block="strata:sandstone" />
        <Replaces block="strata:limestone" />
        <Replaces block="minecraft:dirt" />
        <WireframeColor>0xFF11FF00</WireframeColor>
      </CloudPreset>
      <CloudPreset name="PresetEvaporiteLimestone" inherits="PresetEvaporiteStratum">
        <Setting name="DistributionFrequency" avg="0.01" />
        <Setting name="CloudHeight" avg="55" range="0" />
        <Setting name="CloudThickness" avg="3" />
        <OreBlock block="strata:limestone" weight="0.9" />
        <OreBlock block="strata:chalk" weight="0.1" />
      </CloudPreset>
      <CloudPreset name="PresetEvaporiteGypsum" inherits="PresetEvaporiteStratum">
        <OreBlock block="strata:nitratine" weight="0.05" />
        <IfCondition condition=":=?StrataCustomOreOverride &amp; ?StrataGenStrontium">
          <OreBlock block="strata:celestine_ore" weight="0.05" />
        </IfCondition>
        <OreBlock block="strata:alabaster" weight="0.90" />
        <Setting name="CloudHeight" avg="58" range="0" />
        <Setting name="CloudThickness" avg="2" range="0" />
      </CloudPreset>
      <CloudPreset name="PresetEvaporiteRockSalt" inherits="PresetEvaporiteStratum">
        <OreBlock block="strata:nitratine" weight="0.05" />
        <OreBlock block="strata:salt" weight="0.95" />
        <Setting name="CloudHeight" avg="60" range="0" />
        <Setting name="CloudThickness" avg="1" range="0" />
      </CloudPreset>
      <CloudPreset name="PresetLakeEvaporite" inherits="PresetEvaporiteStratum">
        <Setting name="DistributionFrequency" avg="0.013" />
        <Setting name="CloudHeight" avg="60" range="0" />
        <Setting name="CloudThickness" avg="3" range="0" />
        <BiomeType name="sandy" />
        <BiomeType name="wasteland" />
        <BiomeType name="wet" weight="-1" />
        <OreBlock block="strata:trona" weight="0.70" />
        <OreBlock block="strata:mirabilite" weight="0.15" />
        <OreBlock block="strata:borax" weight="0.15" />
      </CloudPreset>

      <VeinsPreset name="PresetEvaporiteGypsumHintVeins" block="strata:alabaster" inherits="PresetHintVeinsSed" drawWireframe="true">
        <Setting name="MotherlodeHeight" avg="58" range="2" />
        <Setting name="MotherlodeFrequency" avg=":= 0.05 * _default_" />
      </VeinsPreset>

      <Cloud name="EvaporiteLimestone" inherits="PresetEvaporiteLimestone">
        <Cloud name="EvaporiteGypsum" inherits="PresetEvaporiteGypsum">
          <Veins name="EvaporiteGypsumHintVeins" inherits="PresetEvaporiteGypsumHintVeins" />
        </Cloud>
        <IfCondition condition=":=?StrataCustomOreOverride &amp; ?StrataGenSalt">
          <Cloud name="EvaporiteRockSalt" inherits="PresetEvaporiteRockSalt" />
        </IfCondition>
      </Cloud>
      <Cloud name="LakeEvaporite" inherits="PresetLakeEvaporite">
        <Cloud name="LakeEvaporiteGypsum" inherits="PresetEvaporiteGypsum" />
        <IfCondition condition=":=?StrataCustomOreOverride &amp; ?StrataGenSalt">
          <Cloud name="LakeEvaporiteRockSalt" inherits="PresetEvaporiteRockSalt" />
        </IfCondition>
      </Cloud>

    </IfCondition>

    <!-- TODO: Brine -->
    <!--
    <IfCondition condition=":=?StrataGenBrines">

      <Substitute name="BrineWasteland" inherits="PresetBrineWasteland" />
      <CloudPreset name="PresetBrinePool" inherits="PresetStratum" block="minecraft:stained_glass:0">
        <Setting name="DistributionFrequency" avg=":= 0.01" />
        <Setting name="CloudHeight" avg="64" range="2" />
        <Setting name="CloudThickness" avg="2" range="1" />
        <Setting name="CloudRadius" avg="4" range="2" />
        <Setting name="OreDensity" avg="1" range="0" />
        <BiomeType name="sandy" />
        <BiomeType name="wasteland" />
        <BiomeType name="wet" weight="-1" />
        <Replaces block="minecraft:sand" />
        <PlacesBesideRegexp block=".*" />
        <PlacesBeside block="minecraft:air" weight="-1" />
      </CloudPreset>

      <VeinsPreset name="PresetBrineWell" drawWireframe="true" block="minecraft:stained_glass:6">
        <Setting name="MotherlodeHeight" avg="61" range="1" />
        <Setting name="MotherlodeSize" avg="0.6" range="0" />
        <Setting name="BranchFrequency" avg="0" range="0" />
        <Setting name="OreDensity" avg="1" range="0" />
        <Setting name="OreRadiusMult" avg="1.0" range="0" />
        <Setting name="DistributionFrequency" avg="2" />
        <Setting name="MotherlodeRangeLimit" avg="4" range="2" />
        <BiomeType name="sandy" />
        <BiomeType name="wasteland" />
        <BiomeType name="wet" weight="-1" />
        <ReplacesOre block="stone" />
        <Replaces block="minecraft:sandstone" />
        <Replaces block="minecraft:hardened_clay" />
        <Replaces block="minecraft:sand" />
        <Replaces block="minecraft:stained_glass:0" />
        <PlacesAboveRegexp block=".*" />
        <PlacesAbove block="minecraft:stained_glass:0" weight="-1" />
        <PlacesBelow block="minecraft:sand" />
        <PlacesBelow block="minecraft:stained_glass:0" />
        <WireframeColor>0xFF11FF00</WireframeColor>
      </VeinsPreset>

      <SubstitutePreset name="PresetBrineWasteland" block="minecraft:stained_glass:0" minHeight=":= 50/64 * dimension.groundLevel" maxHeight=":= 80/64 * dimension.groundLevel">
        <Replaces block="minecraft:water" />
        <BiomeType name="wasteland" />
      </SubstitutePreset>

      <Cloud name="BrinePool" inherits="PresetBrinePool">
        <IfCondition condition=":=?StrataGenBrineWells">
          <Veins name="BrineWell" inherits="PresetBrineWell" />
        </IfCondition>
      </Cloud>

    </IfCondition>
    -->

    <!-- Volcagenic Massive Sulfide (VMS) -->
    <IfCondition condition=":=?StrataGenVMS">

      <CloudPreset name="PresetVMSRhyolite" inherits="PresetStratum" drawWireframe="false" block="strata:rhyolite">
        <Setting name="CloudThickness" avg="10" range="2" />
        <Setting name="CloudRadius" avg="32" range="5" />
        <Setting name="CloudHeight" avg=":= 25/64 * dimension.groundLevel" range=":= 5/64 * dimension.groundLevel" />
        <Setting name="DistributionFrequency" avg="0.004" />
        <Replaces block="strata:granite" />
        <Replaces block="strata:andesite" />
        <Replaces block="strata:breccia" />
        <Replaces block="strata:carbonatite" />
        <Replaces block="strata:conglomerate" />
        <Replaces block="strata:mudstone" />
        <Replaces block="strata:sandstone" />
        <Replaces block="strata:limestone" />
        <Replaces block="strata:basalt" />
        <Replaces block="minecraft:stone" />
        <Replaces block="minecraft:dirt" />
        <Replaces block="minecraft:sand" />
        <Replaces block="minecraft:clay" />
        <WireframeColor>0xFFFFFF00</WireframeColor>
        <BiomeSet inherits="folded" weight="0.5" />
        <BiomeType name="ocean" />
      </CloudPreset>

      <VeinsPreset name="PresetVMSRhyoliteHintVeins" inherits="PresetHintVeins" block="strata:rhyolite">
        <Setting name="MotherlodeHeight" avg=":=25/64 * dimension.groundLevel" />
        <Replaces block="strata:granite" />
        <Replaces block="strata:andesite" />
        <Replaces block="strata:breccia" />
        <Replaces block="strata:carbonatite" />
        <Replaces block="strata:conglomerate" />
        <Replaces block="strata:mudstone" />
        <Replaces block="strata:sandstone" />
        <Replaces block="strata:limestone" />
        <Replaces block="minecraft:stone" />
      </VeinsPreset>

      <VeinsPreset name="PresetVMSChalcopyrite" inherits="PresetLayeredVeinsLite" block="strata:chalcopyrite_ore" drawWireframe="true" wireframeColor="0xFFFFFF00">
        <Setting name="DistributionFrequency" avg="1.0" />
        <Setting name="MotherlodeHeight" avg=":= 15/64 * dimension.groundLevel" range=":= 2/64 * dimension.groundLevel" />
        <Replaces block="strata:rhyolite" />
      </VeinsPreset>

      <!-- Adapted from COG GoldVeins -->
      <VeinsPreset name="PresetVMSGold" inherits="PresetLayeredVeinsLite" drawWireframe="true" wireframeColor="0xFFFF0000" block="strata:gold_ore">
        <Setting name="MotherlodeFrequency" avg=":= 0.15" />
        <Setting name="MotherlodeHeight" avg=":= 27/64 * dimension.groundLevel" range=":= 1/64 * dimension.groundLevel" />
        <Replaces block="strata:rhyolite" />
        <Setting name="MotherlodeSize" avg=":= 0.8 * _default_" range=":= 0.5 * _default_" />
        <Setting name="BranchHeightLimit" avg="10" />
        <Setting name="BranchFrequency" avg=":= 0.85 * _default_" />
        <Setting name="BranchLength" avg=":= 0.75 * _default_" range=":= 0.66 * _default_" />
        <Setting name="SegmentRadius" avg=":= 0.7 * _default_" range=":= 0.5 * _default_" />
        <Setting name="SegmentAngle" avg="0.6" range="0.40" />
      </VeinsPreset>

      <VeinsPreset name="PresetVMSSphaleriteGalena" inherits="PresetSphaleriteGalena" drawWireframe="true" wireframeColor="0xFFFF0000">
        <Setting name="DistributionFrequency" avg="1.0" />
        <Setting name="MotherlodeHeight" avg=":= 25/64 * dimension.groundLevel" range=":= 2/64 * dimension.groundLevel" />
        <Replaces block="strata:rhyolite" />
      </VeinsPreset>

      <Cloud name="VMSRhyolite" inherits="PresetVMSRhyolite">
        <Veins name="VMSRhyoliteHintVeins" inherits="PresetVMSRhyoliteHintVeins" />
        <IfCondition condition=":=?StrataCustomOreOverride &amp; ?StrataGenCopper">
          <Veins name="VMSChalcopyrite" inherits="PresetVMSChalcopyrite" />
        </IfCondition>
        <IfCondition condition=":=?StrataVanillaOreOverride &amp; ?StrataGenGold">
          <Veins name="VMSGold" inherits="PresetVMSGold" />
        </IfCondition>
        <IfCondition condition=":=?StrataCustomOreOverride &amp; ( ?StrataGenZinc | ?StrataGenLead | ?StrataGenPyrite )">
          <Veins name="VMSSphaleriteGalena" inherits="PresetVMSSphaleriteGalena" />
        </IfCondition>
      </Cloud>

    </IfCondition>

    <!-- SEDimentary EXhalative (SEDEX) -->
    <IfCondition condition=":=?StrataGenSEDEX">

      <CloudPreset name="PresetSEDEX" inherits="PresetSedStrategicCloud">
        <BiomeSet inherits="continental" />
        <BiomeSet inherits="island" />
        <Setting name="DistributionFrequency" avg=":= 2 * _default_" />
        <Setting name="OreDensity" avg=":=1.5 * _default_" />
      </CloudPreset>

      <CloudPreset name="PresetSEDEXSphaleriteGalena" inherits="PresetSEDEX" drawWireframe="true" wireframeColor="0xFF3300FF">
        <IfCondition condition=":=?StrataCustomOreOverride &amp; ?StrataGenLead">
          <OreBlock block="strata:galena_ore" weight="0.33" />
        </IfCondition>
        <IfCondition condition=":=?StrataCustomOreOverride &amp; ?StrataGenZinc">
          <OreBlock block="strata:sphalerite_ore" weight="0.62" />
        </IfCondition>
        <IfCondition condition=":=?StrataCustomOreOverride &amp; ?StrataGenPyrite">
          <OreBlock block="strata:pyrite_ore" weight="0.05" />
        </IfCondition>
        <Setting name="DistributionFrequency" avg=":= 3 * _default_" />
      </CloudPreset>
      <CloudPreset name="PresetSEDEXSphaleriteGalenaOceanic" inherits="PresetSEDEXSphaleriteGalena">
        <Setting name="DistributionFrequency" avg=":= 2 * _default_" />
        <BiomeSet inherits="sedocean" />
        <Setting name="CloudHeight" avg=":=40/64 * dimension.groundLevel" range=":=5/64 * dimension.groundLevel" type="uniform" />
      </CloudPreset>

      <VeinsPreset name="PresetSEDEXSphaleriteGalenaHintVeins" inherits="PresetHintVeinsSed">
        <IfCondition condition=":=?StrataCustomOreOverride &amp; ?StrataGenLead">
          <OreBlock block="strata:galena_ore" weight="0.35" />
        </IfCondition>
        <IfCondition condition=":=?StrataCustomOreOverride &amp; ?StrataGenZinc">
          <OreBlock block="strata:sphalerite_ore" weight="0.65" />
        </IfCondition>
      </VeinsPreset>
      <VeinsPreset name="PresetSEDEXSphaleriteGalenaHintVeinsOceanic" inherits="PresetSEDEXSphaleriteGalenaHintVeins">
        <Setting name="MotherlodeHeight" avg=":=40/64 * dimension.groundLevel" range=":=5/64 * dimension.groundLevel" type="uniform" />
      </VeinsPreset>

      <CloudPreset name="PresetSEDEXScheelite" inherits="PresetSEDEX" drawWireframe="true" wireframeColor="0xFF33FF55">
        <Setting name="OreDensity" avg=":=0.5 * _default_" />
        <IfCondition condition=":=?StrataCustomOreOverride &amp; ?StrataGenTungsten">
          <OreBlock block="strata:scheelite_ore" weight="0.98" />
        </IfCondition>
        <IfCondition condition=":=?StrataVanillaOreOverride &amp; ?StrataGenEmerald">
          <OreBlock block="strata:emerald_ore" weight="0.02" />
        </IfCondition>
      </CloudPreset>
      <CloudPreset name="PresetSEDEXScheeliteOceanic" inherits="PresetSEDEXScheelite">
        <Setting name="DistributionFrequency" avg=":= 2 * _default_" />
        <BiomeSet inherits="sedocean" />
        <Setting name="CloudHeight" avg=":=40/64 * dimension.groundLevel" range=":=5/64 * dimension.groundLevel" type="uniform" />
        <Setting name="OreDensity" avg=":=0.5 * _default_" />
      </CloudPreset>

      <VeinsPreset name="PresetSEDEXScheeliteHintVeins" inherits="PresetHintVeinsSed" block="strata:scheelite_ore" />
      <VeinsPreset name="PresetSEDEXScheeliteHintVeinsOceanic" inherits="PresetSEDEXScheeliteHintVeins">
        <Setting name="MotherlodeHeight" avg=":=40/64 * dimension.groundLevel" range=":=5/64 * dimension.groundLevel" type="uniform" />
      </VeinsPreset>

      <CloudPreset name="PresetSEDEXChalcopyrite" inherits="PresetSEDEX" drawWireframe="true" wireframeColor="0xFFFFFF00">
        <IfCondition condition=":=?StrataCustomOreOverride &amp; ?StrataGenCopper">
          <OreBlock block="strata:chalcopyrite_ore" weight="0.95" />
        </IfCondition>
        <IfCondition condition=":=?StrataCustomOreOverride &amp; ?StrataGenPyrite">
          <OreBlock block="strata:pyrite_ore" weight="0.05" />
        </IfCondition>
      </CloudPreset>
      <CloudPreset name="PresetSEDEXChalcopyriteOceanic" inherits="PresetSEDEXChalcopyrite">
        <Setting name="DistributionFrequency" avg=":= 2 * _default_" />
        <BiomeSet inherits="sedocean" />
        <Setting name="CloudHeight" avg=":=40/64 * dimension.groundLevel" range=":=5/64 * dimension.groundLevel" type="uniform" />
      </CloudPreset>

      <VeinsPreset name="PresetSEDEXChalcopyriteHintVeins" inherits="PresetHintVeinsSed" block="strata:chalcopyrite_ore" />
      <VeinsPreset name="PresetSEDEXChalcopyriteHintVeinsOceanic" inherits="PresetSEDEXChalcopyriteHintVeins">
        <Setting name="MotherlodeHeight" avg=":=40/64 * dimension.groundLevel" range=":=5/64 * dimension.groundLevel" type="uniform" />
      </VeinsPreset>

      <IfCondition condition=":=?StrataCustomOreOverride &amp; ( ?StrataGenZinc | ?StrataGenLead )">
        <Cloud name="SEDEXSphaleriteGalena" inherits="PresetSEDEXSphaleriteGalena">
          <Veins name="SEDEXSphaleriteGalenaHintVeins" inherits="PresetSEDEXSphaleriteGalenaHintVeins" />
        </Cloud>
        <Cloud name="SEDEXSphaleriteGalenaOceanic" inherits="PresetSEDEXSphaleriteGalenaOceanic">
          <Veins name="SEDEXSphaleriteGalenaHintVeinsOceanic" inherits="PresetSEDEXSphaleriteGalenaHintVeinsOceanic" />
        </Cloud>
      </IfCondition>
      <IfCondition condition=":=?StrataCustomOreOverride &amp; ?StrataGenTungsten">
        <Cloud name="SEDEXScheelite" inherits="PresetSEDEXScheelite">
          <Veins name="SEDEXScheeliteHintVeins" inherits="PresetSEDEXScheeliteHintVeins" />
        </Cloud>
        <Cloud name="SEDEXScheeliteOceanic" inherits="PresetSEDEXScheeliteOceanic">
          <Veins name="SEDEXScheeliteHintVeinsOceanic" inherits="PresetSEDEXScheeliteHintVeinsOceanic" />
        </Cloud>
      </IfCondition>
      <IfCondition condition=":=?StrataCustomOreOverride &amp; ?StrataGenCopper">
        <Cloud name="SEDEXChalcopyrite" inherits="PresetSEDEXChalcopyrite">
          <Veins name="SEDEXChalcopyriteHintVeins" inherits="PresetSEDEXChalcopyriteHintVeins" />
        </Cloud>
        <Cloud name="SEDEXChalcopyriteOceanic" inherits="PresetSEDEXChalcopyriteOceanic">
          <Veins name="SEDEXChalcopyriteHintVeinsOceanic" inherits="PresetSEDEXChalcopyriteHintVeinsOceanic" />
        </Cloud>
      </IfCondition>

    </IfCondition>

    <!-- Porphyry -->
    <IfCondition condition=":=?StrataGenIgVeins">

      <VeinsPreset name="PresetPorphyry" inherits="PresetRockVeins" drawWireframe="true" wireframeColor="0xFFFFFF00">
        <Setting name="MotherlodeFrequency" avg="0.004" />
        <Setting name="MotherlodeHeight" avg="10" range="10" />
        <Replaces block="strata:granite" />
        <Replaces block="strata:diorite" />
        <Replaces block="minecraft:stone" />
        <OreBlock block="strata:breccia" weight="0.7" />
        <IfCondition condition=":=?StrataCustomOreOverride &amp; ?StrataGenCopper">
          <OreBlock block="strata:chalcopyrite_ore" weight="0.20" />
        </IfCondition>
        <IfCondition condition=":=?StrataCustomOreOverride &amp; ?StrataGenMolybdenum">
          <OreBlock block="strata:molybdenite_ore" weight="0.10" />
        </IfCondition>
      </VeinsPreset>

      <Veins name="Porphyry" inherits="PresetPorphyry" />

    </IfCondition>

    <!-- Veins in granite -->
    <ConfigSection>

      <VeinsPreset name="PresetGraniteVeinsContinental" inherits="PresetLayeredVeinsContinental">
        <Setting name="DistributionFrequency" avg="0.008" />
        <Setting name="MotherlodeHeight" avg=":= 30/64 * dimension.groundLevel" range=":= 10/64 * dimension.groundLevel" />
        <Setting name="BranchLength" avg=":= 2 * _default_" range=":= 2 * _default_" />
        <Setting name="MotherlodeSize" avg=":= 2 * _default_" />
        <Replaces block="minecraft:stone" />
        <Replaces block="strata:granite" />
        <Replaces block="strata:gneiss" />
        <Replaces block="strata:schist" />
      </VeinsPreset>
      <VeinsPreset name="PresetGraniteChalcopyriteContinental" inherits="PresetGraniteVeinsContinental" drawWireframe="true" wireframeColor="0xFFFFFF00">
        <IfCondition condition=":=?StrataCustomOreOverride &amp; ?StrataGenCopper">
          <OreBlock block="strata:chalcopyrite_ore" weight="0.88" />
        </IfCondition>
        <IfCondition condition=":=?StrataCustomOreOverride &amp; ?StrataGenGold">
          <OreBlock block="strata:gold_ore" weight="0.10" />
        </IfCondition>
        <IfCondition condition=":=?StrataCustomOreOverride &amp; ?StrataGenUranium">
          <OreBlock block="strata:pitchblende_ore" weight="0.01" />
        </IfCondition>
        <IfCondition condition=":=?StrataCustomOreOverride &amp; ?StrataGenPyrite">
          <OreBlock block="strata:pyrite_ore" weight="0.01" />
        </IfCondition>
      </VeinsPreset>
      <VeinsPreset name="PresetGraniteMagnetiteContinental" inherits="PresetGraniteVeinsContinental" drawWireframe="true">
        <WireframeColor>0xFF221100</WireframeColor>
        <IfCondition condition=":=?StrataCustomOreOverride &amp; ?StrataGenIron">
          <OreBlock block="strata:magnetite_ore" weight="0.5" />
        </IfCondition>
        <IfCondition condition=":=?StrataCustomOreOverride &amp; ?StrataGenVanadium">
          <OreBlock block="strata:vanadium_magnetite_ore" weight="0.5" />
        </IfCondition>
      </VeinsPreset>
      <VeinsPreset name="PresetGraniteStibniteContinental" inherits="PresetGraniteVeinsContinental" drawWireframe="true" wireframeColor="0xFFFF0055" block="strata:stibnite_ore" />
      <VeinsPreset name="PresetGraniteRealgarContinental" inherits="PresetGraniteVeinsContinental" drawWireframe="true" wireframeColor="0xFFFF0055">
        <IfCondition condition=":=?StrataCustomOreOverride &amp; ?StrataGenArsenic">
          <OreBlock block="strata:realgar_ore" weight="0.8" />
        </IfCondition>
        <IfCondition condition=":=?StrataCustomOreOverride &amp; ?StrataGenAsbestos">
          <OreBlock block="strata:chrysotile_ore" weight="0.2" />
        </IfCondition>
      </VeinsPreset>
      <VeinsPreset name="PresetGraniteCassiteriteContinental" inherits="PresetGraniteVeinsContinental" drawWireframe="true" wireframeColor="0xFF221100">
        <Setting name="DistributionFrequency" avg="0.015" />
        <IfCondition condition=":=?StrataCustomOreOverride &amp; ?StrataGenTin">
          <OreBlock block="strata:cassiterite_ore" weight="0.9" />
        </IfCondition>
        <IfCondition condition=":=?StrataCustomOreOverride &amp; ?StrataGenTungsten">
          <OreBlock block="strata:scheelite_ore" weight="0.05" />
        </IfCondition>
        <IfCondition condition=":=?StrataCustomOreOverride &amp; ?StrataGenGold">
          <OreBlock block="strata:gold_ore" weight="0.05" />
        </IfCondition>
      </VeinsPreset>
      <VeinsPreset name="PresetGraniteFluoriteContinental" inherits="PresetGraniteVeinsContinental" drawWireframe="true" wireframeColor="0xFF22AA22">
        <IfCondition condition=":=?StrataCustomOreOverride &amp; ?StrataGenFluorite">
          <OreBlock block="strata:fluorite_ore" weight="0.92" />
        </IfCondition>
        <IfCondition condition=":=?StrataCustomOreOverride &amp; ?StrataGenZinc">
          <OreBlock block="strata:sphalerite_ore" weight="0.06" />
        </IfCondition>
        <IfCondition condition=":=?StrataCustomOreOverride &amp; ?StrataGenLead">
          <OreBlock block="strata:galena_ore" weight="0.02" />
        </IfCondition>
      </VeinsPreset>
      <VeinsPreset name="PresetGraniteQuartzContinental" inherits="PresetGraniteVeinsContinental" drawWireframe="true" wireframeColor="0xFFFF0055">
        <Setting name="DistributionFrequency" avg="0.015" />
        <OreBlock block="strata:quartz_ore" weight="0.91" />
        <OreBlock block="strata:kyanite_ore" weight="0.05" />
        <OreBlock block="strata:quartzite" weight="0.02" />
        <IfCondition condition=":=?StrataCustomOreOverride &amp; ?StrataGenPyrite">
          <OreBlock block="strata:pyrite_ore" weight="0.02" />
        </IfCondition>
      </VeinsPreset>

      <VeinsPreset name="PresetGraniteVeinsVolcanic" inherits="PresetLayeredVeinsVolcanic">
        <Setting name="DistributionFrequency" avg="0.01" />
        <Setting name="MotherlodeHeight" avg=":= 55/64 * dimension.groundLevel" range=":= 15/64 * dimension.groundLevel" />
        <Setting name="BranchLength" avg=":= 2 * _default_" range=":= 2 * _default_" />
        <Setting name="MotherlodeSize" avg=":= 2 * _default_" />
        <Replaces block="minecraft:stone" />
        <Replaces block="strata:granite" />
        <Replaces block="strata:gneiss" />
        <Replaces block="strata:schist" />
      </VeinsPreset>
      <VeinsPreset name="PresetGraniteChalcopyriteVolcanic" inherits="PresetGraniteVeinsVolcanic" drawWireframe="true" wireframeColor="0xFFFFFF00">
        <IfCondition condition=":=?StrataCustomOreOverride &amp; ?StrataGenCopper">
          <OreBlock block="strata:chalcopyrite_ore" weight="0.88" />
        </IfCondition>
        <IfCondition condition=":=?StrataCustomOreOverride &amp; ?StrataGenGold">
          <OreBlock block="strata:gold_ore" weight="0.10" />
        </IfCondition>
        <IfCondition condition=":=?StrataCustomOreOverride &amp; ?StrataGenUranium">
          <OreBlock block="strata:pitchblende_ore" weight="0.01" />
        </IfCondition>
        <IfCondition condition=":=?StrataCustomOreOverride &amp; ?StrataGenPyrite">
          <OreBlock block="strata:pyrite_ore" weight="0.01" />
        </IfCondition>
      </VeinsPreset>
      <VeinsPreset name="PresetGraniteMagnetiteVolcanic" inherits="PresetGraniteVeinsVolcanic" drawWireframe="true">
        <WireframeColor>0xFF221100</WireframeColor>
        <IfCondition condition=":=?StrataCustomOreOverride &amp; ?StrataGenIron">
          <OreBlock block="strata:magnetite_ore" weight="0.5" />
        </IfCondition>
        <IfCondition condition=":=?StrataCustomOreOverride &amp; ?StrataGenVanadium">
          <OreBlock block="strata:vanadium_magnetite_ore" weight="0.5" />
        </IfCondition>
      </VeinsPreset>
      <VeinsPreset name="PresetGraniteStibniteVolcanic" inherits="PresetGraniteVeinsVolcanic" drawWireframe="true" wireframeColor="0xFFFF0055" block="strata:stibnite_ore" />
      <VeinsPreset name="PresetGraniteCassiteriteVolcanic" inherits="PresetGraniteVeinsVolcanic" drawWireframe="true" wireframeColor="0xFF221100">
        <Setting name="DistributionFrequency" avg="0.02" />
        <IfCondition condition=":=?StrataCustomOreOverride &amp; ?StrataGenTin">
          <OreBlock block="strata:cassiterite_ore" weight="0.88" />
        </IfCondition>
        <IfCondition condition=":=?StrataCustomOreOverride &amp; ?StrataGenTungsten">
          <OreBlock block="strata:scheelite_ore" weight="0.05" />
        </IfCondition>
        <IfCondition condition=":=?StrataCustomOreOverride &amp; ?StrataGenGold">
          <OreBlock block="strata:gold_ore" weight="0.05" />
        </IfCondition>
        <IfCondition condition=":=?StrataVanillaOreOverride &amp; ?StrataGenEmerald">
          <OreBlock block="strata:emerald_ore" weight="0.02" />
        </IfCondition>
      </VeinsPreset>
      <VeinsPreset name="PresetGraniteQuartzVolcanic" inherits="PresetGraniteVeinsVolcanic" drawWireframe="true" wireframeColor="0xFFFF0055">
        <Setting name="DistributionFrequency" avg="0.02" />
        <OreBlock block="strata:quartz_ore" weight="0.91" />
        <OreBlock block="strata:kyanite_ore" weight="0.05" />
        <OreBlock block="strata:quartzite" weight="0.02" />
        <IfCondition condition=":=?StrataCustomOreOverride &amp; ?StrataGenPyrite">
          <OreBlock block="strata:pyrite_ore" weight="0.02" />
        </IfCondition>
      </VeinsPreset>
      <VeinsPreset name="PresetGraniteFluoriteVolcanic" inherits="PresetGraniteVeinsVolcanic" drawWireframe="true" wireframeColor="0xFF22AA22">
        <IfCondition condition=":=?StrataCustomOreOverride &amp; ?StrataGenFluorite">
          <OreBlock block="strata:fluorite_ore" weight="0.92" />
        </IfCondition>
        <IfCondition condition=":=?StrataCustomOreOverride &amp; ?StrataGenZinc">
          <OreBlock block="strata:sphalerite_ore" weight="0.06" />
        </IfCondition>
        <IfCondition condition=":=?StrataCustomOreOverride &amp; ?StrataGenLead">
          <OreBlock block="strata:galena_ore" weight="0.02" />
        </IfCondition>
      </VeinsPreset>
      <VeinsPreset name="PresetGraniteGoldVolcanic" inherits="PresetGraniteVeinsVolcanic" drawWireframe="true" wireframeColor="0xFFFF0055">
        <Setting name="DistributionFrequency" avg="0.01" />
        <OreBlock block="strata:gold_ore" />
      </VeinsPreset>

      <VeinsPreset name="PresetPegmatite" inherits="PresetRockVeins" drawWireframe="true" wireframeColor="0xFFFF0055">
        <Setting name="MotherlodeFrequency" avg="0.006" />
        <Replaces block="minecraft:stone" />
        <Replaces block="strata:gneiss" />
        <Replaces block="strata:granite" />
        <Replaces block="strata:greenschist" />
        <Replaces block="strata:diorite" />
        <Replaces block="strata:gabbro" />
        <OreBlock block="strata:pegmatite" weight="0.769" />
        <IfCondition condition=":=?StrataCustomOreOverride &amp; ?StrataGenMica">
          <OreBlock block="strata:mica" weight="0.05" />
        </IfCondition>
        <IfCondition condition=":=?StrataCustomOreOverride &amp; ?StrataGenQuartz">
          <OreBlock block="strata:kyanite_ore" weight="0.01" />
        </IfCondition>
        <IfCondition condition=":=?StrataCustomOreOverride &amp; ?StrataGenTungsten">
          <OreBlock block="strata:wolframite_ore" weight="0.01" />
        </IfCondition>
        <IfCondition condition=":=?StrataCustomOreOverride &amp; ?StrataGenLithium">
          <OreBlock block="strata:lepidolite_ore" weight="0.025" />
          <OreBlock block="strata:spodumene_ore" weight="0.07" />
        </IfCondition>
        <IfCondition condition=":=?StrataCustomOreOverride &amp; ?StrataGenTantalum">
          <OreBlock block="strata:tantalite_ore" weight="0.02" />
        </IfCondition>
        <IfCondition condition=":=?StrataCustomOreOverride &amp; ?StrataGenCaesium">
          <OreBlock block="strata:pollucite_ore" weight="0.001" />
        </IfCondition>
        <IfCondition condition=":=?StrataCustomOreOverride &amp; ?StrataGenApatite">
          <OreBlock block="strata:apatite_ore" weight="0.02" />
        </IfCondition>
        <IfCondition condition=":=?StrataCustomOreOverride &amp; ?StrataGenTin">
          <OreBlock block="strata:cassiterite_ore" weight="0.015" />
        </IfCondition>
        <IfCondition condition=":=?StrataVanillaOreOverride &amp; ?StrataGenEmerald">
          <OreBlock block="strata:emerald_ore" weight="0.01" />
        </IfCondition>
      </VeinsPreset>
      <VeinsPreset name="PresetPegmatiteVolcanic" inherits="PresetPegmatite" wireframeColor="0xFFFF0055">
        <Setting name="MotherlodeFrequency" avg=":= 2 * _default_" />
        <Setting name="MotherlodeHeight" avg=":= 50/64 * dimension.groundLevel" range=":= 20/64 * dimension.groundLevel" type="normal" />
        <BiomeSet inherits="felsic" />
        <BiomeSet inherits="dome" />
      </VeinsPreset>
      <VeinsPreset name="PresetPegmatiteContinental" inherits="PresetPegmatite" wireframeColor="0xFFFF0055">
        <Setting name="MotherlodeHeight" avg="20" range="10" />
        <BiomeSet inherits="inland" />
      </VeinsPreset>

      <VeinsPreset name="PresetCarbonatite" inherits="PresetRockVeins" drawWireframe="true" wireframeColor="0xFF0000FF">
        <Setting name="BranchLength" avg=":= 0.5 * _default_" range=":= 0.5 * _default_" />
        <Setting name="BranchFrequency" avg="1" range="0" />
        <Setting name="BranchInclination" avg="-1" range="0.2" />
        <Setting name="SegmentForkFrequency" avg="0.10" />
        <Setting name="SegmentAngle" avg="0" range="0.3" />
        <Setting name="ParentRangeLimit" avg="10" range="2" />
        <Setting name="MotherlodeFrequency" avg="0.01" />
        <Setting name="MotherlodeHeight" avg="30" range="10" />
        <Setting name="SegmentRadius" avg="1.5" range="0.5" type="normal" />
        <OreBlock block="strata:carbonatite" weight="0.810" />
        <IfCondition condition=":=?StrataCustomOreOverride &amp; ?StrataGenBastnasite">
          <OreBlock block="strata:bastnasite_ore" weight="0.05" />
        </IfCondition>
        <IfCondition condition=":=?StrataCustomOreOverride &amp; ?StrataGenApatite">
          <OreBlock block="strata:apatite_ore" weight="0.05" />
        </IfCondition>
        <OreBlock block="strata:vermiculite" weight="0.04" />
        <IfCondition condition=":=?StrataCustomOreOverride &amp; ?StrataGenBarium">
          <OreBlock block="strata:barite_ore" weight="0.025" />
        </IfCondition>
        <IfCondition condition=":=?StrataCustomOreOverride &amp; ?StrataGenCopper">
          <OreBlock block="strata:chalcopyrite_ore" weight="0.025" />
        </IfCondition>
        <Replaces block="minecraft:stone" />
        <Replaces block="strata:schist" />
        <Replaces block="strata:slate" />
        <Replaces block="strata:basalt" />
        <Replaces block="strata:gneiss" />
        <Replaces block="strata:granite" />
        <Replaces block="strata:greenschist" />
        <Replaces block="strata:diorite" />
        <Replaces block="strata:gabbro" />
        <Replaces block="strata:quartzite" />
        <BiomeSet inherits="shieldVolcano" />
        <BiomeType name="mesa" />
      </VeinsPreset>

      <IfCondition condition=":=?StrataGenIgVeins">
        <IfCondition condition=":=?StrataCustomOreOverride &amp; ?StrataGenAntimony">
          <Veins name="GraniteStibniteContinental" inherits="PresetGraniteStibniteContinental" />
        </IfCondition>
        <IfCondition condition=":=?StrataCustomOreOverride &amp; ?StrataGenArsenic">
          <Veins name="GraniteRealgarContinental" inherits="PresetGraniteRealgarContinental" />
        </IfCondition>
        <IfCondition condition=":=?StrataCustomOreOverride &amp; ?StrataGenFluorite">
          <Veins name="GraniteFluoriteContinental" inherits="PresetGraniteFluoriteContinental" />
        </IfCondition>
        <IfCondition condition=":=?StrataCustomOreOverride &amp; ?StrataGenAntimony">
          <Veins name="GraniteStibniteVolcanic" inherits="PresetGraniteStibniteVolcanic" />
        </IfCondition>
        <IfCondition condition=":=?StrataCustomOreOverride &amp; ?StrataGenFluorite">
          <Veins name="GraniteFluoriteVolcanic" inherits="PresetGraniteFluoriteVolcanic" />
        </IfCondition>
        <IfCondition condition=":=?StrataCustomOreOverride &amp; ?StrataGenCopper">
          <Veins name="GraniteChalcopyriteContinental" inherits="PresetGraniteChalcopyriteContinental" />
        </IfCondition>
        <IfCondition condition=":=?StrataVanillaOreOverride &amp; ?StrataGenIron">
          <Veins name="GraniteMagnetiteContinental" inherits="PresetGraniteMagnetiteContinental" />
        </IfCondition>
        <IfCondition condition=":=?StrataCustomOreOverride &amp; ?StrataGenTin">
          <Veins name="GraniteCassiteriteContinental" inherits="PresetGraniteCassiteriteContinental" />
        </IfCondition>
        <IfCondition condition=":=?StrataCustomOreOverride &amp; ?StrataGenCopper">
          <Veins name="GraniteChalcopyriteVolcanic" inherits="PresetGraniteChalcopyriteVolcanic" />
        </IfCondition>
        <IfCondition condition=":=?StrataCustomOreOverride &amp; ?StrataGenQuartz">
          <Veins name="GraniteQuartzContinental" inherits="PresetGraniteQuartzContinental" />
        </IfCondition>
        <IfCondition condition=":=?StrataVanillaOreOverride &amp; ?StrataGenIron">
          <Veins name="GraniteMagnetiteVolcanic" inherits="PresetGraniteMagnetiteVolcanic" />
        </IfCondition>
        <IfCondition condition=":=?StrataCustomOreOverride &amp; ?StrataGenTin">
          <Veins name="GraniteCassiteriteVolcanic" inherits="PresetGraniteCassiteriteVolcanic" />
        </IfCondition>
        <IfCondition condition=":=?StrataCustomOreOverride &amp; ?StrataGenQuartz">
          <Veins name="GraniteQuartzVolcanic" inherits="PresetGraniteQuartzVolcanic" />
        </IfCondition>
        <IfCondition condition=":=?StrataVanillaOreOverride &amp; ?StrataGenGold">
          <Veins name="GraniteGoldVolcanic" inherits="PresetGraniteGoldVolcanic" />
        </IfCondition>
      </IfCondition>
      <IfCondition condition=":=?StrataGenPegmatite">
        <Veins name="PegmatiteContinental" inherits="PresetPegmatiteContinental" />
        <Veins name="PegmatiteVolcanic" inherits="PresetPegmatiteVolcanic" />
        <!-- Pegmatitic carbonatite seems to be a thing so this is probably correct here -->
        <Veins name="Carbonatite" inherits="PresetCarbonatite" />
      </IfCondition>

    </ConfigSection>

    <!-- Veins in basalt -->
    <IfCondition condition=":=?StrataGenIgVeins">

      <VeinsPreset name="PresetBasaltVeins" inherits="PresetLayeredVeins">
        <Setting name="DistributionFrequency" avg="0.005" />
        <Setting name="MotherlodeHeight" avg=":= 25/64 * dimension.groundLevel" range=":= 10/64 * dimension.groundLevel" />
        <Setting name="BranchLength" avg=":= 2 * _default_" range=":= 2 * _default_" />
        <Replaces block="minecraft:stone" />
        <Replaces block="strata:basalt" />
        <BiomeSet inherits="oceanic" />
      </VeinsPreset>

      <VeinsPreset name="PresetCinnabar" inherits="PresetBasaltVeins" drawWireframe="true" wireframeColor="0xFFFF0055" block="strata:cinnabar_ore" />

      <IfCondition condition=":=?StrataCustomOreOverride &amp; ?StrataGenMercury">
        <Veins name="Cinnabar" inherits="PresetCinnabar" />
      </IfCondition>

    </IfCondition>

    <!-- Carbonates -->
    <IfCondition condition=":=?StrataGenCarbonate">

      <!-- Dolomite was originally a magnesium ore, but it was changed to a rock called "dolostone" because
        1. PresetMagnesiteDolomite was already generating magnesium ore in dolomite
        2. dolomite is a specific mineral in dolostone which is itself a flavour of limestone
        3. the original asset was a full texture which allowed easy remixing into a block -->
      <CloudPreset name="PresetDolostone" inherits="PresetSedimentaryContinentalMinor" drawWireframe="true" wireframeColor="0xFF00FF55">
        <Setting name="DistributionFrequency" avg="0.01" />
        <Setting name="CloudHeight" avg=":= 55/64 * dimension.groundLevel" range=":= 2/64 * dimension.groundLevel" />
        <Replaces block="minecraft:stone" />
        <Replaces block="minecraft:sandstone" />
        <Replaces block="strata:breccia" />
        <Replaces block="strata:carbonatite" />
        <Replaces block="strata:conglomerate" />
        <Replaces block="strata:mudstone" />
        <Replaces block="strata:sandstone" />
        <Replaces block="strata:limestone" />
        <OreBlock block="strata:limestone" weight="0.3" />
        <OreBlock block="strata:dolostone" weight="0.7" />
      </CloudPreset>

      <CloudPreset name="PresetDolostoneOceanic" inherits="PresetSedimentaryOceanic" drawWireframe="true" wireframeColor="0xFF00FF55">
        <Setting name="DistributionFrequency" avg="0.01" />
        <OreBlock block="strata:limestone" weight="0.3" />
        <OreBlock block="strata:dolostone" weight="0.7" />
        <BiomeSet inherits="sedocean" />
      </CloudPreset>

      <VeinsPreset name="PresetLayeredVeinsDolostone" inherits="PresetLayeredVeinsLite" drawWireframe="true">
        <Replaces block="strata:breccia" />
        <Replaces block="strata:carbonatite" />
        <Replaces block="strata:conglomerate" />
        <Replaces block="strata:mudstone" />
        <Replaces block="strata:sandstone" />
        <Replaces block="strata:limestone" />
        <Replaces block="strata:dolostone" />
        <Setting name="MotherlodeRangeLimit" avg="4" range="2" />
        <Setting name="MotherlodeHeight" avg=":= 55/64 * dimension.groundLevel" range=":= 2/64 * dimension.groundLevel" />
        <Setting name="MotherlodeFrequency" avg=":= 15.0 * oreFreq" range="0" />
        <Setting name="BranchLength" avg=":= 0.5 * _default_" range=":= 0.5 * _default_" />
      </VeinsPreset>
      <VeinsPreset name="PresetMagnesiteDolostone" inherits="PresetLayeredVeinsDolostone" drawWireframe="true" wireframeColor="0xFFAA6666" block="strata:magnesite_ore" />
      <VeinsPreset name="PresetSoapstoneDolostone" inherits="PresetLayeredVeinsDolostone" drawWireframe="true" wireframeColor="0xFF002200" block="strata:soapstone_ore" />
      <VeinsPreset name="PresetWollastoniteDolostone" inherits="PresetLayeredVeinsDolostone" drawWireframe="true" wireframeColor="0xFFAAAAAA" block="strata:wollastonite">
        <Setting name="MotherlodeFrequency" avg=":= 0.5 * _default_" />
      </VeinsPreset>

      <CloudPreset name="PresetCarbonateDeposit" inherits="PresetLimestoneLower" block="strata:chalk">
        <Setting name="DistributionFrequency" avg="0.003" />
        <Setting name="CloudThickness" avg="6" />
        <Setting name="CloudHeight" avg=":= 55/64 * dimension.groundLevel" range=":= 2/64 * dimension.groundLevel" />
      </CloudPreset>

      <VeinsPreset name="PresetCarbonateSphaleriteGalena" inherits="PresetSphaleriteGalena" drawWireframe="true" wireframeColor="0xFFFF00FF">
        <Setting name="DistributionFrequency" avg=":= 1.2 * oreFreq" />
        <Setting name="MotherlodeHeight" avg=":= 55/64 * dimension.groundLevel" range=":= 2/64 * dimension.groundLevel" />
        <Setting name="ParentRangeLimit" avg="4" range="2" />
        <Replaces block="strata:chalk" />
        <IfCondition condition=":=?StrataCustomOreOverride &amp; ?StrataGenZinc">
          <OreBlock block="strata:sphalerite_ore" weight="0.60" />
        </IfCondition>
        <IfCondition condition=":=?StrataCustomOreOverride &amp; ?StrataGenLead">
          <OreBlock block="strata:galena_ore" weight="0.20" />
        </IfCondition>
        <IfCondition condition=":=?StrataCustomOreOverride &amp; ?StrataGenBarium">
          <OreBlock block="strata:barite_ore" weight="0.20" />
        </IfCondition>
      </VeinsPreset>
      <VeinsPreset name="PresetCarbonateSphaleriteGalenaOceanic" inherits="PresetCarbonateSphaleriteGalena" drawWireframe="true" wireframeColor="0xFFFF00FF">
        <Setting name="DistributionFrequency" avg=":= 0.005" />
        <Setting name="MotherlodeHeight" avg=":= 40/64 * dimension.groundLevel" />
        <BiomeSet inherits="sedocean" />
        <IfCondition condition=":=?StrataCustomOreOverride &amp; ?StrataGenZinc">
            <OreBlock block="strata:sphalerite_ore" weight="0.60" />
        </IfCondition>
        <IfCondition condition=":=?StrataCustomOreOverride &amp; ?StrataGenLead">
          <OreBlock block="strata:galena_ore" weight="0.20" />
        </IfCondition>
        <IfCondition condition=":=?StrataCustomOreOverride &amp; ?StrataGenBarium">
          <OreBlock block="strata:barite_ore" weight="0.20" />
        </IfCondition>
      </VeinsPreset>

      <Cloud name="Dolostone" inherits="PresetDolostone">
        <IfCondition condition=":=?StrataCustomOreOverride &amp; ?StrataGenMagnesium">
          <Veins name="MagnesiteDolostone" inherits="PresetMagnesiteDolostone" />
        </IfCondition>
        <Veins name="SoapstoneDolostone" inherits="PresetSoapstoneDolostone" />
        <Veins name="WollastoniteDolostone" inherits="PresetWollastoniteDolostone" />
      </Cloud>
      <Cloud name="DolostoneOceanic" inherits="PresetDolostoneOceanic">
        <Veins name="MagnesiteDolostoneOceanic" inherits="PresetMagnesiteDolostone" />
      </Cloud>
      <IfCondition condition=":=?StrataCustomOreOverride &amp; ( ?StrataGenZinc | ?StrataGenLead | ?StrataGenBarium )">
        <Veins name="CarbonateSphaleriteGalenaOceanic" inherits="PresetCarbonateSphaleriteGalenaOceanic" />
        <Cloud name="CarbonateDeposit" inherits="PresetCarbonateDeposit">
          <Veins name="CarbonateSphaleriteGalena" inherits="PresetCarbonateSphaleriteGalena" />
        </Cloud>
      </IfCondition>

    </IfCondition>

    <!-- Skarns -->
    <IfCondition condition=":=?StrataGenCarbonate">

      <CloudPreset name="PresetSkarnDeposit" inherits="PresetSkarn" drawWireframe="true" wireframeColor="0xFF88FF55">
        <Biome name=".*" weight="1" />
        <BiomeSet inherits="volcanic" weight="-1" />
        <Setting name="DistributionFrequency" avg=":= 0.5 * _default_" />
        <Setting name="CloudThickness" avg=":= 2 * _default_" />
        <Setting name="CloudHeight" range=":= 2/64 * dimension.groundLevel" />
      </CloudPreset>

      <VeinsPreset name="PresetSkarnVeins" inherits="PresetLayeredVeinsLite" drawWireframe="true">
        <Replaces block="strata:limestone" />
        <Replaces block="strata:mudstone" />
        <Replaces block="strata:skarn" />
        <Replaces block="strata:basalt" />
        <Replaces block="strata:granite" />
        <Replaces block="strata:marble" />
        <Setting name="MotherlodeHeight" avg=":= 40/64 * dimension.groundLevel" range=":= 3/64 * dimension.groundLevel" />
        <Setting name="MotherlodeRangeLimit" avg="4" range="2" />
        <Setting name="MotherlodeFrequency" avg=":= 5.0 * oreFreq" />
        <Setting name="BranchLength" avg=":= 0.5 * _default_" range=":= 0.5 * _default_" />
      </VeinsPreset>
      <VeinsPreset name="PresetSkarnMagnesite" inherits="PresetSkarnVeins" wireframeColor="0xFF11FF00">
        <IfCondition condition=":=?StrataCustomOreOverride &amp; ?StrataGenMagnesium">
          <OreBlock block="strata:magnesite_ore" weight="0.50" />
        </IfCondition>
        <OreBlock block="strata:vermiculite" weight="0.50" />
      </VeinsPreset>
      <VeinsPreset name="PresetSkarnSphaleriteGalena" inherits="PresetSkarnVeins" wireframeColor="0xFFFFFF00">
        <IfCondition condition=":=?StrataCustomOreOverride &amp; ?StrataGenZinc">
          <OreBlock block="strata:sphalerite_ore" weight="0.65" />
        </IfCondition>
        <IfCondition condition=":=?StrataCustomOreOverride &amp; ?StrataGenLead">
          <OreBlock block="strata:galena_ore" weight="0.35" />
        </IfCondition>
        <Setting name="MotherlodeFrequency" avg=":= 3 * _default_" />
      </VeinsPreset>
      <VeinsPreset name="PresetSkarnChalcopyrite" inherits="PresetSkarnVeins" wireframeColor="0xFFFFFF00" drawWireframe="true">
        <OreBlock block="strata:chalcopyrite_ore" />
        <Setting name="MotherlodeFrequency" avg=":= 3 * _default_" />
      </VeinsPreset>
      <VeinsPreset name="PresetSkarnMagnetite" inherits="PresetSkarnVeins">
        <WireframeColor>0xFFFF0055</WireframeColor>
        <IfCondition condition=":=?StrataCustomOreOverride &amp; ?StrataGenIron">
          <OreBlock block="strata:magnetite_ore" weight="0.5" />
        </IfCondition>
        <IfCondition condition=":=?StrataCustomOreOverride &amp; ?StrataGenVanadium">
          <OreBlock block="strata:vanadium_magnetite_ore" weight="0.5" />
        </IfCondition>
      </VeinsPreset>
      <VeinsPreset name="PresetSkarnLapis" inherits="PresetSkarnVeins" wireframeColor="0xFFFF0055" block="strata:lapis_ore" />
      <VeinsPreset name="PresetSkarnWollastonite" inherits="PresetSkarnVeins" wireframeColor="0xFFFFFFFF" drawWireframe="true">
        <OreBlock block="strata:sandstone" weight="0.25" />
        <OreBlock block="strata:wollastonite" weight="0.75" />
      </VeinsPreset>
      <VeinsPreset name="PresetSkarnScheelite" inherits="PresetSkarnVeins" wireframeColor="0xFF11FF00" block="strata:scheelite_ore" drawWireframe="true" />

      <Cloud name="SkarnDeposit" inherits="PresetSkarnDeposit">
        <Veins name="SkarnMagnesite" inherits="PresetSkarnMagnesite" />
        <IfCondition condition=":=?StrataCustomOreOverride &amp; ( ?StrataGenZinc | ?StrataGenLead )">
          <Veins name="SkarnSphaleriteGalena" inherits="PresetSkarnSphaleriteGalena" />
        </IfCondition>
        <IfCondition condition=":=?StrataCustomOreOverride &amp; ?StrataGenCopper">
          <Veins name="SkarnChalcopyrite" inherits="PresetSkarnChalcopyrite" />
        </IfCondition>
        <IfCondition condition=":=?StrataCustomOreOverride &amp; ( ?StrataGenIron | ?StrataGenVanadium )">
          <Veins name="SkarnMagnetite" inherits="PresetSkarnMagnetite" />
        </IfCondition>
        <IfCondition condition=":=?StrataCustomOreOverride &amp; ?StrataGenTungsten">
          <Veins name="SkarnScheelite" inherits="PresetSkarnScheelite" />
        </IfCondition>
        <Veins name="SkarnWollastonite" inherits="PresetSkarnWollastonite" />
        <IfModInstalled name="gregtech">
          <IfChoice name="GregtechGenLapis" value="true">
            <Then>
              <Veins name="SkarnLazurite" inherits="PresetSkarnLazurite" />
            </Then>
            <Else>
              <IfCondition condition=":=?StrataVanillaOreOverride &amp; ?StrataGenLapis">
                <Veins name="SkarnLapis" inherits="PresetSkarnLapis" />
              </IfCondition>
            </Else>
          </IfChoice>
        </IfModInstalled>
        <IfNotModInstalled name="gregtech">
          <IfCondition condition=":=?StrataVanillaOreOverride &amp; ?StrataGenLapis">
            <Veins name="SkarnLapis" inherits="PresetSkarnLapis" />
          </IfCondition>
        </IfNotModInstalled>
      </Cloud>

    </IfCondition>

    <!-- Uranium -->
    <IfCondition condition=":=?StrataCustomOreOverride &amp; ?StrataGenUranium">

      <CloudPreset name="PresetUraniumUnconformitySandstone" inherits="PresetSandstone" drawWireframe="true" wireframeColor="0xFFFFFF00">
        <Setting name="DistributionFrequency" avg="0.005" />
        <ReplacesRegexp block=".*Stone.*" />
        <Setting name="CloudHeight" avg=":= 45/64 * dimension.groundLevel" range=":= 0/64 * dimension.groundLevel" />
      </CloudPreset>

      <CloudPreset name="PresetUraniumUnconformitySlate" inherits="PresetSlate" drawWireframe="true" wireframeColor="0xFF00FF00">
        <Setting name="DistributionFrequency" avg="1" />
        <ReplacesOre block="stone" />
        <Setting name="ParentRangeLimit" avg="8" range="2" />
        <Setting name="CloudHeight" avg=":= 40/64 * dimension.groundLevel" range=":= 0/64 * dimension.groundLevel" />
      </CloudPreset>

      <CloudPreset name="PresetUraniumUnconformity" inherits="PresetStrategicCloud" block="strata:pitchblende_ore" drawWireframe="true" wireframeColor="0xFF0000FF">
        <ReplacesOre block="stone" />
        <Setting name="ParentRangeLimit" avg="8" range="2" />
        <Setting name="DistributionFrequency" avg=":= 1" />
        <Setting name="CloudThickness" avg=":= 0.25 * _default_" range=":= 0.25 * _default_" />
        <Setting name="CloudRadius" avg="8" range="3" />
        <Setting name="OreDensity" avg=":=1.5 * _default_" />
        <Setting name="CloudHeight" avg=":= 42/64 * dimension.groundLevel" range=":= 2/64 * dimension.groundLevel" />
      </CloudPreset>

      <CloudPreset name="PresetUraniumSandstone" inherits="PresetSandstone" drawWireframe="true" wireframeColor="0xFF555500">
        <Setting name="DistributionFrequency" avg="0.005" />
        <ReplacesOre block="stone" />
        <Setting name="CloudHeight" avg=":= 50/64 * dimension.groundLevel" range=":= 5/64 * dimension.groundLevel" />
        <OreBlock block="strata:sandstone" weight="0.95" />
        <OreBlock block="strata:pitchblende_ore" weight="0.05" />
      </CloudPreset>

      <CloudPreset name="PresetUraniumConglomerate" inherits="PresetConglomerate" drawWireframe="true" wireframeColor="0xFFFFFFFF">
        <Setting name="DistributionFrequency" avg="0.003" />
        <ReplacesOre block="stone" />
        <Setting name="CloudRadius" avg=":= 1.3 * _default_" range=":= 1.3 * _default_" />
        <Setting name="CloudHeight" avg=":= 50/64 * dimension.groundLevel" range=":= 5/64 * dimension.groundLevel" />
        <OreBlock block="strata:conglomerate" weight="0.98" />
        <OreBlock block="strata:pitchblende_ore" weight="0.02" />
      </CloudPreset>

      <VeinsPreset name="PresetUraniumVeins" inherits="PresetLayeredVeinsContinental" drawWireframe="true" wireframeColor="0xFFF00FFF" block="strata:pitchblende_ore">
        <Setting name="DistributionFrequency" avg="0.003" />
        <Setting name="MotherlodeHeight" avg=":= 40/64 * dimension.groundLevel" range=":= 10/64 * dimension.groundLevel" />
        <Setting name="BranchLength" avg=":= 0.5 * _default_" range=":= 0.5 * _default_" />
        <ReplacesOre block="stone" />
      </VeinsPreset>

      <Cloud name="UraniumUnconformitySandstone" inherits="PresetUraniumUnconformitySandstone">
        <Cloud name="UraniumUnconformitySlate" inherits="PresetUraniumUnconformitySlate" />
        <Cloud name="UraniumUnconformity" inherits="PresetUraniumUnconformity" />
      </Cloud>
      <Cloud name="UraniumSandstone" inherits="PresetUraniumSandstone" />
      <Cloud name="UraniumConglomerate" inherits="PresetUraniumConglomerate" />
      <Veins name="UraniumVeins" inherits="PresetUraniumVeins" />

    </IfCondition>

    <!-- Pyrolusite -->
    <IfCondition condition=":=?StrataCustomOreOverride &amp; ?StrataGenManganese">

      <CloudPreset name="PresetPyrolusite" block="strata:pyrolusite_ore" inherits="PresetSedStrategicCloud" drawWireframe="true">
        <Setting name="DistributionFrequency" avg=":=10 * _default_" />
        <Setting name="OreDensity" avg=":= 1.5 * _default_" />
        <BiomeType name="swamp" />
      </CloudPreset>

      <CloudPreset name="PresetPyrolusiteOceanic" block="strata:pyrolusite_ore" inherits="PresetSedStrategicCloudOceanic" drawWireframe="true" />

      <Cloud name="Pyrolusite" inherits="PresetPyrolusite" />
      <Cloud name="PyrolusiteOceanic" inherits="PresetPyrolusiteOceanic" />

    </IfCondition>

    <!-- Barite -->
    <IfCondition condition=":=?StrataCustomOreOverride &amp; ?StrataGenBarium">

      <CloudPreset name="PresetBarite" inherits="PresetSedStrategicCloud" block="strata:barite_ore" drawWireframe="true">
        <Setting name="DistributionFrequency" avg=":= 5 * _default_" />
      </CloudPreset>
      <CloudPreset name="PresetBariteOceanic" inherits="PresetBarite">
        <Setting name="CloudHeight" avg=":= 40/64 * dimension.groundLevel" range=":= 5/64 * dimension.groundLevel" />
        <BiomeSet inherits="sedocean" />
      </CloudPreset>

      <Cloud name="Barite" inherits="PresetBarite" />
      <Cloud name="BariteOceanic" inherits="PresetBariteOceanic" />

    </IfCondition>

    <!-- Industrial minerals -->
    <ConfigSection>

      <IfCondition condition=":=?StrataGenVolcanic">

        <VeinsPreset name="PresetAlunite" inherits="PresetLayeredVeinsVolcanic" block="strata:alunite_ore" drawWireframe="true">
          <Setting name="MotherlodeFrequency" avg="0.1" />
          <Setting name="MotherlodeHeight" avg="90" range="10" type="uniform" />
          <Replaces block="minecraft:stone" />
          <Replaces block="strata:rhyolite" />
          <Replaces block="strata:andesite" />
        </VeinsPreset>

        <VeinsPreset name="PresetPerliteVeins" inherits="PresetLayeredVeinsVolcanic" drawWireframe="true" wireframeColor="0xFF000000">
          <ReplacesOre block="stone" />
          <OreBlock block="strata:perlite_ore" weight="0.75" />
          <OreBlock block="minecraft:obsidian" weight="0.25" />
          <Setting name="DistributionFrequency" avg="0.02" />
          <Setting name="MotherlodeHeight" avg="15" range="10" />
        </VeinsPreset>

        <StandardGenPreset name="PresetPumice" inherits="PresetVolcanicAsh" block="strata:pumice">
          <Setting name="Frequency" avg=":=3 * _default_" range="0" />
        </StandardGenPreset>

        <CloudPreset name="PresetZeolite" inherits="PresetMetaStrategicCloud" drawWireframe="true" block="strata:zeolite">
          <Setting name="DistributionFrequency" avg=":=5 * _default_" />
          <Setting name="CloudHeight" avg=":=65/64 * dimension.groundLevel" range=":=10/64 * dimension.groundLevel" />
          <BiomeSet inherits="volcanic" />
        </CloudPreset>

        <IfCondition condition=":=?StrataCustomOreOverride &amp; ?StrataGenAluminum">
          <Veins name="Alunite" inherits="PresetAlunite" />
        </IfCondition>
        <IfCondition condition=":=?StrataCustomOreOverride &amp; ?StrataGenPerlite">
          <Veins name="PerliteVeins" inherits="PresetPerliteVeins" />
        </IfCondition>
        <StandardGen name="Pumice" inherits="PresetPumice" />
        <Cloud name="Zeolite" inherits="PresetZeolite" />

      </IfCondition>

      <IfCondition condition=":=?StrataGenMarine">

        <CloudPreset name="PresetDiatomite" block="strata:diatomite" inherits="PresetSedStrategicCloud" drawWireframe="true" wireframeColor="0xFFFFFFFF">
          <Setting name="DistributionFrequency" avg=":= 5 * _default_" />
          <BiomeSet inherits="volcanic" />
          <BiomeType name="sandy" />
          <ReplacesOre block="stone" />
          <Replaces block="minecraft:sandstone" />
        </CloudPreset>

        <Cloud name="Diatomite" inherits="PresetDiatomite" />

      </IfCondition>

      <IfCondition condition=":=?StrataCustomOreOverride &amp; ?StrataGenApatite">

        <CloudPreset name="PresetApatiteBeds" inherits="PresetMetaStrategicCloud" drawWireframe="true" block="strata:apatite_ore">
          <Setting name="DistributionFrequency" avg=":=5 * _default_" />
          <Setting name="OreDensity" avg=":=1.5 * _default_" />
          <Biome name=".*" weight="1" />
        </CloudPreset>

        <VeinsPreset name="PresetApatiteHintVeins" inherits="PresetHintVeins" block="strata:apatite_ore" drawWireframe="true">
          <Setting name="MotherlodeFrequency" avg=":= 0.25 * _default_" />
          <Setting name="MotherlodeHeight" avg=":=40/64 * dimension.groundLevel" range=":=10/64 * dimension.groundLevel" type="uniform" />
        </VeinsPreset>

        <Cloud name="ApatiteBeds" inherits="PresetApatiteBeds">
          <Veins name="ApatiteHintVeins" inherits="PresetApatiteHintVeins" />
        </Cloud>

      </IfCondition>

      <IfCondition condition=":=?StrataCustomOreOverride &amp; ?StrataGenQuartz">

        <CloudPreset name="PresetKyanite" inherits="PresetMetamorphicContinental" drawWireframe="true" wireframeColor="0xFF000000">
          <ReplacesOre block="stone" />
          <Setting name="CloudHeight" avg="45" range="5" />
          <Setting name="DistributionFrequency" avg="0.0025" />
          <OreBlock block="strata:kyanite_ore" weight="0.10" />
          <OreBlock block="strata:quartzite" weight="0.90" />
        </CloudPreset>

        <Cloud name="Kyanite" inherits="PresetKyanite" />

      </IfCondition>

    </ConfigSection>

    <!-- Graphite -->
    <IfCondition condition=":=?StrataGenGraphite">

      <CloudPreset name="PresetGraphiteCloud" inherits="PresetMetamorphicContinental" drawWireframe="true" wireframeColor="0xFF000000">
        <ReplacesOre block="stone" />
        <Setting name="CloudHeight" avg="45" range="5" />
        <Setting name="DistributionFrequency" avg="0.002" />
      </CloudPreset>

      <CloudPreset name="PresetSchistGraphiteCloud" inherits="PresetGraphiteCloud" wireframeColor="0xFFFF5555">
        <IfCondition condition=":=?StrataVanillaOreOverride &amp; ?StrataGenDiamond">
          <OreBlock block="strata:diamond_ore" weight="0.005" />
        </IfCondition>
        <OreBlock block="strata:graphite" weight="0.195" />
        <OreBlock block="strata:schist" weight="0.80" />
      </CloudPreset>

      <CloudPreset name="PresetGneissGraphiteCloud" inherits="PresetGraphiteCloud" wireframeColor="0xFF222222">
        <IfCondition condition=":=?StrataVanillaOreOverride &amp; ?StrataGenDiamond">
          <OreBlock block="strata:diamond_ore" weight="0.01" />
        </IfCondition>
        <OreBlock block="strata:graphite" weight="0.19" />
        <OreBlock block="strata:gneiss" weight="0.80" />
      </CloudPreset>

      <CloudPreset name="PresetQuartziteGraphiteCloud" inherits="PresetGraphiteCloud" wireframeColor="0xFFAAAA00">
        <IfCondition condition=":=?StrataVanillaOreOverride &amp; ?StrataGenDiamond">
          <OreBlock block="strata:diamond_ore" weight="0.02" />
        </IfCondition>
        <OreBlock block="strata:graphite" weight="0.18" />
        <OreBlock block="strata:quartzite" weight="0.80" />
      </CloudPreset>

      <!-- IfCondition here because PresetCoalBeds is from another group -->
      <IfCondition condition=":=?StrataVanillaOreOverride &amp; ?StrataGenCoal">
        <CloudPreset name="PresetGraphiteBeds" inherits="PresetCoalBeds" drawWireframe="true">
          <Setting name="DistributionFrequency" avg=":=0.1 * _default_" />
          <Setting name="CloudHeight" avg="50" range="5" />
          <OreBlock block="strata:graphite" weight="0.70" />
          <OreBlock block="strata:anthracite_ore" weight="0.30" />
        </CloudPreset>
      </IfCondition>

      <VeinsPreset name="PresetGraphiteVeins" inherits="PresetLayeredVeinsContinental" drawWireframe="true" wireframeColor="0xFF000000" block="strata:graphite">
        <ReplacesOre block="stone" />
        <Setting name="DistributionFrequency" avg="0.003" />
        <Setting name="MotherlodeHeight" avg="45" range="5" />
      </VeinsPreset>

      <Cloud name="SchistGraphiteCloud" inherits="PresetSchistGraphiteCloud" />
      <Cloud name="GneissGraphiteCloud" inherits="PresetGneissGraphiteCloud" />
      <Cloud name="QuartziteGraphiteCloud" inherits="PresetQuartziteGraphiteCloud" />
      <IfCondition condition=":=?StrataVanillaOreOverride &amp; ?StrataGenCoal">
        <Cloud name="GraphiteBeds" inherits="PresetGraphiteBeds" />
      </IfCondition>
      <Veins name="GraphiteVeins" inherits="PresetGraphiteVeins" />

    </IfCondition>

    <!-- Mineral clays -->
    <IfCondition condition=":=?StrataGenClay">

      <StandardGenPreset name="PresetSodiumBentonite" inherits="PresetVolcanicAsh">
        <OreBlock block="strata:volcanic_ash" weight="0.05" />
        <OreBlock block="strata:sodium_bentonite" weight="0.95" />
        <Setting name="Frequency" avg=":=4 * _default_" range="0" />
      </StandardGenPreset>

      <CloudPreset name="PresetCalciumBentonite" inherits="PresetSedStrategicCloud" drawWireframe="true" wireframeColor="0xFFFF00FF">
        <Setting name="CloudHeight" avg=":=60/64 * dimension.groundLevel" range=":=2/64 * dimension.groundLevel" />
        <ReplacesOre block="stone" />
        <Replaces block="minecraft:sandstone" />
        <Replaces block="minecraft:sand" />
        <Replaces block="minecraft:hardened_clay" />
        <Setting name="DistributionFrequency" avg=":= 6 * _default_" />
        <Setting name="OreDensity" avg=":=1.5 * _default_" />
        <BiomeType name="sandy" />
        <OreBlock block="strata:calcium_bentonite" />
        <!-- The referenced source code does not have information about this block -->
        <!-- <OreBlock block="PFAAGeologica:weakOreClay:7" weight="0.20" /> -->
      </CloudPreset>

      <CloudPreset name="PresetKaolinite" inherits="PresetSedStrategicCloud" block="strata:kaolinite" drawWireframe="true" wireframeColor="0xFF0000FF">
        <Setting name="CloudHeight" avg=":=60/64 * dimension.groundLevel" range=":=2/64 * dimension.groundLevel" />
        <ReplacesOre block="stone" />
        <Replaces block="minecraft:dirt" />
        <Setting name="DistributionFrequency" avg=":= 12 * _default_" />
        <Setting name="OreDensity" avg=":=1.5 * _default_" />
        <Biome name=".*" weight="-1" />
        <BiomeType name="hot" />
        <BiomeType name="wet" />
      </CloudPreset>

      <StandardGen name="SodiumBentonite" inherits="PresetSodiumBentonite" />
      <Cloud name="CalciumBentonite" inherits="PresetCalciumBentonite" />
      <Cloud name="Kaolinite" inherits="PresetKaolinite" />

    </IfCondition>

    <!-- Volcanic -->
    <IfCondition condition=":=?StrataGenVolcanic">

      <VeinsPreset name="PresetFumarole" inherits="PresetPipeVeins" seed="0xE222" drawWireframe="true">
        <WireframeColor>0x40336699</WireframeColor>
        <Setting name="MotherlodeFrequency" avg=":= 0.5 * _default_" />
        <Setting name="MotherlodeHeight" avg=":= 40/64 * dimension.groundLevel" range="5" />
        <IfCondition condition=":=?StrataCustomOreOverride &amp; ?StrataGenArsenic">
          <OreBlock block="strata:realgar_ore" weight="0.1" />
        </IfCondition>
        <OreBlock block="strata:sulfur" weight="0.2" />
        <OreBlock block="strata:alabaster" weight="0.5" />
        <IfCondition condition=":=?StrataCustomOreOverride &amp; ?StrataGenSalt">
          <OreBlock block="strata:salt" weight="0.2" />
        </IfCondition>
        <BiomeSet inherits="felsic" />
        <ReplacesOre block="stone" />
        <Replaces block="minecraft:dirt" />
        <Replaces block="minecraft:gravel" />
      </VeinsPreset>
      <VeinsPreset name="PresetFumaroleLava" block="minecraft:lava" inherits="PresetFumarole" seed="0xE222" drawWireframe="false">
        <Setting name="MotherlodeSize" avg=":= 0.5 * _default_" />
        <Setting name="SegmentRadius" avg=":= 0.5 * _default_" />
      </VeinsPreset>

      <Veins name="Fumarole" inherits="PresetFumarole">
        <Veins name="FumaroleLava" inherits="PresetFumaroleLava" />
      </Veins>

    </IfCondition>

    <!-- TODO: Petroleum -->
    <!--
    <IfCondition condition=":=?StrataGenPetroleum">

      <CloudPreset name="PresetCrudeOil" inherits="PresetStratum">
        <Setting name="CloudHeight" avg="40" range="10" />
        <Setting name="CloudThickness" avg="3" range="1" />
        <Setting name="DistributionFrequency" avg="0.001" />
        <Setting name="CloudRadius" avg="8" range="2" type="normal" />
        <ReplacesOre block="stone" />
      </CloudPreset>

      <CloudPreset name="PresetCrudeOilContinental" inherits="PresetCrudeOil">
        <BiomeSet inherits="inland" />
      </CloudPreset>

      <CloudPreset name="PresetCrudeOilLightContinental" inherits="PresetCrudeOilContinental" wireframeColor="0xFFAAAAAA">
        <OreBlock block="minecraft:stained_glass:3" weight="0.5" />
        <OreBlock block="minecraft:stained_glass:5" weight="0.5" />
        <Setting name="DistributionFrequency" avg=":=2*_default_" />
      </CloudPreset>

      <CloudPreset name="PresetCrudeOilMediumContinental" inherits="PresetCrudeOilContinental" wireframeColor="0xFF888888">
        <OreBlock block="minecraft:stained_glass:4" weight="0.7" />
        <OreBlock block="minecraft:stained_glass:5" weight="0.3" />
        <Setting name="DistributionFrequency" avg=":=3.5*_default_" />
      </CloudPreset>

      <CloudPreset name="PresetCrudeOilHeavyContinental" inherits="PresetCrudeOilContinental" wireframeColor="0xFF444444">
        <OreBlock block="minecraft:stained_glass:4" weight="0.9" />
        <OreBlock block="minecraft:stained_glass:5" weight="0.1" />
        <Setting name="DistributionFrequency" avg=":=2*_default_" />
      </CloudPreset>

      <CloudPreset name="PresetCrudeOilExtraHeavyContinental" inherits="PresetCrudeOilContinental" block="minecraft:stained_glass:1" wireframeColor="0xFF000000">
        <Setting name="DistributionFrequency" avg=":=3*_default_" />
      </CloudPreset>

      <CloudPreset name="PresetCrudeOilOceanic" inherits="PresetCrudeOil">
        <BiomeSet inherits="oceanic" />
        <Setting name="CloudHeight" avg="25" range="5" />
        <Setting name="CloudRadius" avg="16" range="4" type="normal" />
      </CloudPreset>

      <CloudPreset name="PresetCrudeOilLightOceanic" inherits="PresetCrudeOilOceanic" block="minecraft:stained_glass:3" />

      <CloudPreset name="PresetCrudeOilMediumOceanic" inherits="PresetCrudeOilOceanic" block="minecraft:stained_glass:4" />

      <CloudPreset name="PresetCrudeOilHeavyOceanic" inherits="PresetCrudeOilOceanic" block="minecraft:stained_glass:2" />

      <CloudPreset name="PresetCrudeOilExtraHeavyOceanic" inherits="PresetCrudeOilOceanic" block="minecraft:stained_glass:1" />

      <CloudPreset name="PresetOilShale" inherits="PresetStratum" wireframeColor="0xFF8E6500">
        <Setting name="CloudHeight" avg="50" range="5" />
        <Setting name="DistributionFrequency" avg="0.005" />
        <Setting name="CloudThickness" avg="3" range="1" />
        <OreBlock block="strata:oil_shale" weight="0.3" />
        <OreBlock block="strata:mudstone" weight="0.7" />
        <ReplacesOre block="stone" />
      </CloudPreset>

      <CloudPreset name="PresetOilShaleOceanic" inherits="PresetOilShale">
        <BiomeSet inherits="oceanic" />
        <Setting name="CloudHeight" avg="40" range="5" />
      </CloudPreset>

      <CloudPreset name="PresetOilShaleContinental" inherits="PresetOilShale">
        <BiomeSet inherits="inland" />
      </CloudPreset>

      <VeinsPreset name="PresetTightVeins" inherits="PresetLayeredVeinsLite">
        <Setting name="MotherlodeHeight" avg="50" range="2" />
        <Setting name="ParentRangeLimit" avg="4" range="2" />
        <ReplacesOre block="stone" />
        <Replaces block="strata:oil_shale" />
      </VeinsPreset>

      <VeinsPreset name="PresetTightOil" wireframeColor="0xFF00FFFF" inherits="PresetTightVeins" block="minecraft:stained_glass:3">
        <Setting name="MotherlodeFrequency" avg="2" />
      </VeinsPreset>

      <VeinsPreset name="PresetTightGas" wireframeColor="0xFF00FFFF" inherits="PresetTightVeins" block="minecraft:stained_glass:5">
        <Setting name="MotherlodeFrequency" avg="3" />
      </VeinsPreset>

      <CloudPreset name="PresetNaturalGas" inherits="PresetStratum" wireframeColor="0xFF0000AA" block="minecraft:stained_glass:5" drawWireframe="true">
        <Setting name="CloudHeight" avg="40" range="10" />
        <Setting name="DistributionFrequency" avg="0.004" />
        <Setting name="CloudRadius" avg="8" range="2" type="normal" />
        <Setting name="CloudThickness" avg="3" range="1" />
        <ReplacesOre block="stone" />
      </CloudPreset>

      <CloudPreset name="PresetNaturalGasContinental" inherits="PresetNaturalGas">
        <BiomeSet inherits="continental" />
      </CloudPreset>

      <CloudPreset name="PresetNaturalGasOceanic" inherits="PresetNaturalGas">
        <BiomeSet inherits="oceanic" />
        <Setting name="CloudHeight" avg="25" range="5" />
        <Setting name="CloudRadius" avg="16" range="4" type="normal" />
      </CloudPreset>

      <CloudPreset name="PresetOilSand" inherits="PresetStratum" block="strata:oil_sand">
        <Setting name="DistributionFrequency" avg="0.001" range="0" />
        <Setting name="CloudHeight" avg="62" range="1" />
        <Replaces block="minecraft:dirt" />
        <BiomeType name="plains" />
      </CloudPreset>

      <Cloud name="CrudeOilLightContinental" inherits="PresetCrudeOilLightContinental" />
      <Cloud name="CrudeOilMediumContinental" inherits="PresetCrudeOilMediumContinental" />
      <Cloud name="CrudeOilHeavyContinental" inherits="PresetCrudeOilHeavyContinental" />
      <Cloud name="CrudeOilExtraHeavyContinental" inherits="PresetCrudeOilExtraHeavyContinental" />
      <Cloud name="OilShaleContinental" inherits="PresetOilShaleContinental">
        <Veins name="TightOil" inherits="PresetTightOil" />
        <Veins name="TightGas" inherits="PresetTightGas" />
      </Cloud>
      <Cloud name="NaturalGasContinental" inherits="PresetNaturalGasContinental" />
      <Cloud name="CrudeOilLightOceanic" inherits="PresetCrudeOilLightOceanic" />
      <Cloud name="CrudeOilMediumOceanic" inherits="PresetCrudeOilMediumOceanic" />
      <Cloud name="CrudeOilHeavyOceanic" inherits="PresetCrudeOilHeavyOceanic" />
      <Cloud name="CrudeOilExtraHeavyOceanic" inherits="PresetCrudeOilExtraHeavyOceanic" />
      <Cloud name="OilShaleOceanic" inherits="PresetOilShaleOceanic" />
      <Cloud name="NaturalGasOceanic" inherits="PresetNaturalGasOceanic" />
      <Cloud name="OilSand" inherits="PresetOilSand" />

    </IfCondition>
    -->

    <!-- Diamond -->
    <IfCondition condition=":=?StrataVanillaOreOverride &amp; ?StrataGenDiamond">

      <VeinsPreset name="PresetKimberlitePipes" inherits="PresetPipeVeins" drawWireframe="true">
        <WireframeColor>0x40336699</WireframeColor>
        <Setting name="MotherlodeFrequency" avg=":= 0.5 * _default_" />
        <Setting name="MotherlodeHeight" avg=":= 3/64 * dimension.groundLevel" range="0" />
        <Setting name="BranchInclination" avg="1.2" range="0.3" type="normal" />
        <OreBlock block="strata:diamond_ore" weight="0.6" />
        <OreBlock block="strata:peridotite" weight="0.4" />
      </VeinsPreset>
      <VeinsPreset name="PresetKimberlitePipesLava" block="minecraft:lava" inherits="PresetKimberlitePipes">
        <Setting name="MotherlodeSize" avg=":= 0.5 * _default_" />
        <Setting name="SegmentRadius" avg=":= 0.5 * _default_" />
        <ReplacesOre block="stone" />
        <Replaces block="minecraft:dirt" />
        <Replaces block="minecraft:gravel" />
      </VeinsPreset>

      <Veins name="KimberlitePipes" inherits="PresetKimberlitePipes" seed="0xF186" />
      <Veins name="KimberlitePipesLava" inherits="PresetKimberlitePipesLava" seed="0xF186" />

    </IfCondition>

    <!-- Redstone -->
    <IfCondition condition=":=?StrataVanillaOreOverride &amp; ?StrataGenRedstone">

      <VeinsPreset name="PresetRedstoneVeins" inherits="PresetVerticalVeins" drawWireframe="true">
        <WireframeColor>0x40550000</WireframeColor>
        <Setting name="MotherlodeFrequency" avg=":= 1.8 * _default_" />
        <OreBlock block="strata:redstone_ore" weight="0.8" />
        <IfCondition condition=":=?StrataCustomOreOverride &amp; ?StrataGenCopper">
          <OreBlock block="strata:chalcopyrite_ore" weight="0.2" />
        </IfCondition>
      </VeinsPreset>

      <Veins name="RedstoneVeins" inherits="PresetRedstoneVeins" />

    </IfCondition>

    <!-- In-place ore replacement -->
    <ConfigSection>

      <!-- This is the alternative to "ore to stone" found far above. Do this last to ensure whatever
      Strata blocks that are going to be put in the world are in the world for these ores to find. -->

      <IfCondition condition=":=?StrataVanillaOreOverride">
        <IfCondition condition=":=!?StrataGenCoal">
          <Substitute name="VanillaCoalReplacement" block="strata:coal_ore">
            <ReplacesOre block="oreCoal" />
          </Substitute>
        </IfCondition>
        <IfCondition condition=":=!?StrataGenDiamond">
          <Substitute name="VanillaDiamondReplacement" block="strata:diamond_ore">
            <ReplacesOre block="oreDiamond" />
          </Substitute>
        </IfCondition>
        <IfCondition condition=":=!?StrataGenEmerald">
          <Substitute name="VanillaEmeraldReplacement" block="strata:emerald_ore">
            <ReplacesOre block="oreEmerald" />
          </Substitute>
        </IfCondition>
        <IfCondition condition=":=!?StrataGenGold">
          <Substitute name="VanillaGoldReplacement" block="strata:gold_ore">
            <ReplacesOre block="oreGold" />
          </Substitute>
        </IfCondition>
        <IfCondition condition=":=!?StrataGenIron">
          <Substitute name="VanillaIronReplacement" block="strata:iron_ore">
            <Replaces block="minecraft:iron_ore" />
          </Substitute>
        </IfCondition>
        <IfCondition condition=":=!?StrataGenLapis">
          <Substitute name="VanillaLapisReplacement" block="strata:lapis_ore">
            <ReplacesOre block="oreLapis" />
          </Substitute>
        </IfCondition>
        <IfCondition condition=":=!?StrataGenRedstone">
          <Substitute name="VanillaRedstoneReplacement" block="strata:redstone_ore">
            <ReplacesOre block="oreRedstone" />
          </Substitute>
        </IfCondition>
      </IfCondition>

      <IfCondition condition=":=?StrataCustomOreOverride">
        <IfCondition condition=":=!?StrataGenAluminum">
          <Substitute name="CustomAluminumReplacement">
            <OreBlock block="strata:alunite_ore" weight="0.5"/>
            <OreBlock block="strata:bauxite_ore" weight="0.5"/>
            <ReplacesOre block="oreBauxite" />
          </Substitute>
        </IfCondition>
        <IfCondition condition=":=!?StrataGenAntimony">
          <Substitute name="CustomChromiumReplacement" block="strata:stibnite_ore">
            <ReplacesOre block="oreAntimony" />
          </Substitute>
        </IfCondition>
        <IfCondition condition=":=!?StrataGenApatite">
          <Substitute name="CustomApatiteReplacement" block="strata:apatite_ore">
            <ReplacesOre block="oreApatite" />
          </Substitute>
        </IfCondition>
        <IfCondition condition=":=!?StrataGenArsenic">
          <Substitute name="CustomArsenicReplacement" block="strata:realgar_ore">
            <ReplacesOre block="oreArsenic" />
          </Substitute>
        </IfCondition>
        <IfCondition condition=":=!?StrataGenAsbestos">
          <Substitute name="CustomAsbestosReplacement" block="strata:chrysotile_ore">
            <ReplacesOre block="oreAsbestos" />
          </Substitute>
        </IfCondition>
        <IfCondition condition=":=!?StrataGenBarium">
          <Substitute name="CustomBariumReplacement" block="strata:barite_ore">
            <ReplacesOre block="oreBarium" />
          </Substitute>
        </IfCondition>
        <IfCondition condition=":=!?StrataGenBastnasite">
          <Substitute name="CustomBastnasiteReplacement" block="strata:bastnasite_ore">
            <ReplacesOre block="oreBastnasite" />
          </Substitute>
        </IfCondition>
        <IfCondition condition=":=!?StrataGenCaesium">
          <Substitute name="CustomCaesiumReplacement" block="strata:pollucite_ore">
            <ReplacesOre block="oreCaesium" />
          </Substitute>
        </IfCondition>
        <IfCondition condition=":=!?StrataGenChromium">
          <Substitute name="CustomChromiumReplacement" block="strata:chromite_ore">
            <ReplacesOre block="oreChromium" />
          </Substitute>
        </IfCondition>
        <IfCondition condition=":=!?StrataGenCopper">
          <Substitute name="CustomCopperReplacement" block="strata:chalcopyrite_ore">
            <ReplacesOre block="oreCopper" />
          </Substitute>
        </IfCondition>
        <IfCondition condition=":=!?StrataGenFluorite">
          <Substitute name="CustomFluoriteReplacement" block="strata:fluorite_ore">
            <ReplacesOre block="oreFluorite" />
          </Substitute>
        </IfCondition>
        <IfCondition condition=":=!?StrataGenLead">
          <Substitute name="CustomLeadReplacement" block="strata:galena_ore">
            <ReplacesOre block="oreLead" />
          </Substitute>
        </IfCondition>
        <IfCondition condition=":=!?StrataGenLithium">
          <Substitute name="CustomLithiumReplacement" block="strata:spodumene_ore">
            <ReplacesOre block="oreLithium" />
          </Substitute>
        </IfCondition>
        <IfCondition condition=":=!?StrataGenMagnesium">
          <Substitute name="CustomMagnesiumReplacement" block="strata:magnesite_ore">
            <ReplacesOre block="oreMagnesium" />
          </Substitute>
        </IfCondition>
        <IfCondition condition=":=!?StrataGenManganese">
          <Substitute name="CustomManganeseReplacement" block="strata:pyrolusite_ore">
            <ReplacesOre block="oreManganese" />
          </Substitute>
        </IfCondition>
        <IfCondition condition=":=!?StrataGenMercury">
          <Substitute name="CustomMercuryReplacement" block="strata:cinnabar_ore">
            <ReplacesOre block="oreCinnabar" />
          </Substitute>
        </IfCondition>
        <IfCondition condition=":=!?StrataGenMolybdenum">
          <Substitute name="CustomMolybdenumReplacement" block="strata:molybdenite_ore">
            <ReplacesOre block="oreMolybdenum" />
          </Substitute>
        </IfCondition>
        <IfCondition condition=":=!?StrataGenNickel">
          <Substitute name="CustomNickelReplacement">
            <OreBlock block="strata:garnierite_ore" weight="0.5"/>
            <OreBlock block="strata:pentlandite_ore" weight="0.5"/>
            <ReplacesOre block="oreNickel" />
          </Substitute>
        </IfCondition>
        <IfCondition condition=":=!?StrataGenPyrite">
          <Substitute name="CustomPyriteReplacement" block="strata:pyrite_ore">
            <ReplacesOre block="orePyrite" />
          </Substitute>
        </IfCondition>
        <IfCondition condition=":=!?StrataGenSalt">
          <Substitute name="CustomSaltReplacement" block="strata:salt">
            <ReplacesOre block="oreSalt" />
          </Substitute>
        </IfCondition>
        <IfCondition condition=":=!?StrataGenStrontium">
          <Substitute name="CustomStrontiumReplacement" block="strata:celestine_ore">
            <ReplacesOre block="oreStrontium" />
          </Substitute>
        </IfCondition>
        <IfCondition condition=":=!?StrataGenTantalum">
          <Substitute name="CustomTantalumReplacement" block="strata:tantalite_ore">
            <ReplacesOre block="oreTantalum" />
          </Substitute>
        </IfCondition>
        <IfCondition condition=":=!?StrataGenTin">
          <Substitute name="CustomTinReplacement" block="strata:cassiterite_ore">
            <ReplacesOre block="oreTin" />
          </Substitute>
        </IfCondition>
        <IfCondition condition=":=!?StrataGenTitanium">
          <Substitute name="CustomTitaniumReplacement" block="strata:ilmenite_ore">
            <ReplacesOre block="oreTitanium" />
          </Substitute>
        </IfCondition>
        <IfCondition condition=":=!?StrataGenTungsten">
          <Substitute name="CustomTungstenReplacement">
            <OreBlock block="strata:scheelite_ore" weight="0.5"/>
            <OreBlock block="strata:wolframite_ore" weight="0.5"/>
            <ReplacesOre block="oreTungsten" />
          </Substitute>
        </IfCondition>
        <IfCondition condition=":=!?StrataGenUranium">
          <Substitute name="CustomUraniumReplacement" block="strata:pitchblende_ore">
            <ReplacesOre block="oreUranium" />
          </Substitute>
        </IfCondition>
        <IfCondition condition=":=!?StrataGenQuartz">
          <Substitute name="CustomQuartzReplacement" block="strata:quartz_ore">
            <ReplacesOre block="oreQuartz" />
          </Substitute>
        </IfCondition>
        <IfCondition condition=":=!?StrataGenVanadium">
          <Substitute name="CustomVanadiumReplacement" block="strata:vanadium_magnetite_ore">
            <ReplacesOre block="oreVanadium" />
          </Substitute>
        </IfCondition>
        <IfCondition condition=":=!?StrataGenZinc">
          <Substitute name="CustomLeadZincReplacement" block="strata:sphalerite_ore">
            <ReplacesOre block="oreZinc" />
          </Substitute>
        </IfCondition>
      </IfCondition>

    </ConfigSection>

  </IfCondition>

</IfModInstalled>
